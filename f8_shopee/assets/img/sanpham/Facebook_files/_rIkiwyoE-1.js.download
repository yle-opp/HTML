if (self.CavalryLogger) { CavalryLogger.start_js_script(document.currentScript); }

__d("LSGetEncryptionVersionFromSupportedVersionsList.bs",["LSResult.bs","Promise","bs_caml","bs_caml_array","bs_caml_int64","bs_caml_obj","bs_int64"],(function(a,b,c,d,e,f){"use strict";var g=b("bs_caml_int64").zero;function h(a,c){if(c.length>0&&!b("bs_caml_obj").caml_greaterthan(a,b("bs_caml_array").get(c,0)))return b("bs_caml_array").get(c,0);else return a}function i(a,c){if(c.length>0&&b("bs_caml_obj").caml_greaterthan(a,b("bs_caml_array").get(c,0)))return b("bs_caml_array").get(c,0);else return a}function j(a,c){return a.filter(function(a){return c.reduce(function(c,d){if(c)return!0;else return b("bs_int64").equal(d,a)},!1)})}function k(a){while(!0){var c=a,d=c.reduce(j,b("bs_caml_array").get(c,0));if(d.length>0)return b("bs_caml_array").get(d.sort(function(a,c){return b("bs_int64").compare(c,a)}),0);d=c.reduce(i,b("bs_int64").max_int);c=c.reduce(function(a){return function(c,d){d=d.filter(function(c){return b("bs_caml").i64_gt(c,a)});if(d.length>0)return c.concat([d]);else return c}}(d),[]);if(c.length<=0)return d;a=c;continue}}function a(a,c,d){a=d.map(function(a){return a});var e=a.reduce(h,g);c=a.map(function(a){return a.filter(function(a){return b("bs_caml").i64_ge(a,e)})}).filter(function(a){return a.length>0});return b("Promise").resolve(b("LSResult.bs").make(k(c)))}f.defaultVersion=g;f.getHighestMinimum=h;f.getMinimum=i;f.intersectFunction=j;f.recursiveFind=k;f.call=a}),null);
__d("LSFinishAddPeerDevice",["LSAppendDataTraceAddon","LSArrayGetObjectAt","LSBase64Encode.bs","LSCreateAuthKeyPair.bs","LSCreateDataTraceID.bs","LSCreateDerivedKeys.bs","LSCreateEncryptionKeyPair.bs","LSCreateSignatureKeyPair.bs","LSCreateSignature_v2.bs","LSDeleteBackupOnClient","LSGetBlobFromString.bs","LSGetEncryptionVersionFromSupportedVersionsList.bs","LSHmac_v2.bs","LSIssueNewTask","LSOcmfClientEvolve_v2.bs","LSSyncEpochs"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[],e=[],f;return c.seq([function(e){return c.seq([function(a){return function(a){c.logger(a).info(a)}("[EncryptedBackups][LSEncryptedBackupsFinishAddPeerDeviceStoredProcedure]Beginning execution."),c.islc(c.ftr(c.db.table(168).fetch(),function(a){return c.i64.eq(a.authorityLevel,[0,80])&&c.i64.eq(a.backupTenancy,[0,2])}),0,c.i64.to_float([0,1])).next().then(function(a,b){b=a.done;a=a.value;return b?d[0]=!1:(a.item,d[0]=!0)})},function(a){return d[0]?d[2]=c.i64.or_([0,71],[0,128]):d[2]=[0,71],c.nop(b("LSCreateDataTraceID.bs")).then(function(a){return a=a,d[3]=a[0],a})},function(a){return d[4]="",function(a){c.logger(a).info(a)}(["[EncryptedBackups][MEBTraceUtils]",d[4],"EncryptedBackups Trace ID",d[4],c.i64.to_string(d[2])].join("")),c.db.table(153).add({traceId:d[3],initTimestampMs:c.i64.of_float(Date.now()),traceType:d[2],shouldFlush:!1,contextThree:"backup_init_flow"})},function(a){return d[7]="backup_init_flow",c.seq([function(a){return c.ftr(c.db.table(153).fetch(),function(a){return a.contextOne===d[7]||a.contextTwo===d[7]||a.contextThree===d[7]}).next().then(function(a,b){var c=a.done;a=a.value;return c?d[8]=f:(b=a.item,d[8]=b.traceId)})},function(a){return d[5]=d[8]}])},function(a){return d[5]!==f?c.sp(b("LSAppendDataTraceAddon"),d[5],[0,1434],[0,2],f,f):c.resolve()},function(e){return c.ftr(c.db.table(168).fetch(),function(a){return c.i64.eq(a.authorityLevel,[0,80])}).next().then(function(e,g){g=e.done;e=e.value;return g?c.seq([function(a){return c.db.table(168).fetch().next().then(function(a,d){var e=a.done;a=a.value;return e?0:(d=a.item,c.sp(b("LSDeleteBackupOnClient"),d.backupId,"backup_init_flow",!0))})},function(a){return c.nop(b("LSCreateSignatureKeyPair.bs")).then(function(a){return a=a,d[9]=a[0],d[10]=a[1],a})},function(a){return c.nop(b("LSCreateEncryptionKeyPair.bs")).then(function(a){return a=a,d[11]=a[0],d[12]=a[1],a})},function(a){return c.nop(b("LSCreateSignature_v2.bs"),d[9],c.blob("MA=="),d[12]).then(function(a){return a=a,d[13]=a[0],a})},function(a){return c.nop(b("LSCreateAuthKeyPair.bs")).then(function(a){return a=a,d[14]=a[0],d[15]=a[1],a})},function(a){return c.nop(b("LSCreateSignature_v2.bs"),d[9],c.blob("MQ=="),d[15]).then(function(a){return a=a,d[16]=a[0],a})},function(e){return d[17]=a[0].get("backup_id"),a[0],d[18]=c.createArray(),d[39]=(d[18].push([0,0]),d[18]),d[39]=(d[18].push([0,2]),d[18]),d[19]="",d[20]=c.i64.of_int32(d[18].length),c.i64.gt(d[20],[0,0])?c.loopAsync(d[20],function(a){return d[39]=a,c.seq([function(a){return c.ntop("Array",b("LSArrayGetObjectAt"),d[18],d[39]).then(function(a){return a=a,d[40]=a[0],d[41]=a[1],a})},function(a){return d[19]=[d[19],"_",c.i64.to_string(d[40])].join("")}])}):c.resolve()},function(a){return c.nop(b("LSGetBlobFromString.bs"),["supported_versions_",d[19],"revision_version_",c.i64.to_string([0,1])].join("")).then(function(a){return a=a,d[21]=a[0],a})},function(a){return c.nop(b("LSCreateSignature_v2.bs"),d[9],c.blob("Mg=="),d[21]).then(function(a){return a=a,d[22]=a[0],a})},function(a){return c.blobs.neq(d[22],f)?c.seq([function(a){return c.nop(b("LSBase64Encode.bs"),d[22]).then(function(a){return a=a,d[39]=a[0],a})},function(a){return d[23]=d[39]}]):c.resolve(d[23]=f)},function(a){return d[24]=c.createArray(),c.fe(c.ftr(c.db.table(191).fetch(),function(a){return c.i64.eq(d[17],a.backupId)}),function(a){var b=a.item;return c.seq([function(a){return d[39]=c.createArray(),c.fe(c.db.table(192).fetch([[[b.deviceId]]]),function(a){a=a.item;return d[41]=(d[39].push(a.supportedVersion),d[39])})},function(a){return d[40]=c.i64.of_int32(d[39].length),c.i64.gt(d[40],[0,0])?d[41]=(d[24].push(d[39]),d[24]):0}])})},function(a){return d[25]=c.createArray(),d[39]=(d[25].push([0,0]),d[25]),d[39]=(d[25].push([0,2]),d[25]),d[26]=c.createArray(),d[27]=c.i64.of_int32(d[25].length),c.i64.gt(d[27],[0,0])?c.loopAsync(d[27],function(a){return d[39]=a,c.seq([function(a){return c.ntop("Array",b("LSArrayGetObjectAt"),d[25],d[39]).then(function(a){return a=a,d[40]=a[0],d[41]=a[1],a})},function(a){return d[42]=(d[26].push(d[40]),d[26])}])}):c.resolve()},function(a){return d[39]=(d[24].push(d[26]),d[24]),c.nop(b("LSGetEncryptionVersionFromSupportedVersionsList.bs"),d[24]).then(function(a){return a=a,d[28]=a[0],a})},function(e){return d[29]=a[0].get("temp_ocmf_client_state"),a[0],c.nop(b("LSOcmfClientEvolve_v2.bs"),d[29]).then(function(a){return a=a,d[30]=a[0],d[31]=a[1],a})},function(a){return c.nop(b("LSBase64Encode.bs"),d[31]).then(function(a){return a=a,d[32]=a[0],a})},function(b){return d[33]=a[0].get("mailbox_root_key"),a[0],d[34]=a[0].get("oblivious_validation_token"),a[0],c.fe(c.ftr(c.db.table(168).fetch([[[d[17]]]]),function(a){return c.i64.eq(a.backupId,d[17])&&c.i64.lt(a.authorityLevel,[0,20])}),function(a){return a["delete"]()})},function(a){return c.db.table(168).add({backupId:d[17],devicePublicKeyBlob:d[10],devicePrivateKeyBlob:d[9],epochStoragePublicKeyBlob:d[12],epochStoragePrivateKeyBlob:d[11],epochAuthPublicKeyBlob:d[15],epochAuthPrivateKeyBlob:d[14],mailboxRootKeyBlob:d[33],ocmfClientStateBlob:d[30],obliviousValidationTokenBlob:d[34],authorityLevel:[0,20],backupTenancy:[0,1],revisionVersion:[0,1],encryptionVersion:d[28]})},function(e){return d[35]=a[0].get("add_peer_epoch_data"),a[0],d[36]=c.i64.of_int32(d[35].length),c.i64.gt(d[36],[0,0])?c.loopAsync(d[36],function(a){return d[39]=a,c.seq([function(a){return c.ntop("Array",b("LSArrayGetObjectAt"),d[35],d[39]).then(function(a){return a=a,d[40]=a[0],d[41]=a[1],a})},function(a){return d[42]=d[40].get("epoch_id"),d[40],d[43]=d[40].get("epoch_anon_id"),d[40],d[44]=d[40].get("epoch_root_key"),d[40],d[45]=d[40].get("epoch_status"),d[40],c.fe(c.ftr(c.db.table(169).fetch([[[d[42]]]]),function(a){return c.i64.eq(a.epochId,d[42])&&c.i64.lt(a.authorityLevel,[0,80])}),function(a){return a["delete"]()})},function(a){return c.db.table(169).add({epochId:d[42],authorityLevel:[0,80],backupId:d[17],epochAnonIdBlob:d[43],epochRootKeyBlob:d[44],epochStatus:d[45]})}])}):c.resolve()},function(a){return c.ct(c.ftr(c.db.table(169).fetch(),function(a){return c.i64.eq(a.epochStatus,[0,1])&&c.i64.eq(a.authorityLevel,[0,80])})).then(function(a){return d[37]=a})},function(a){return c.i64.le(d[37],[0,1])?c.seq([function(a){return c.ftr(c.db.table(169).fetch(),function(a){return c.i64.eq(a.epochStatus,[0,1])&&c.i64.eq(a.authorityLevel,[0,80])}).next().then(function(a,b){var e=a.done;a=a.value;return e?d[39]=f:(b=a.item,d[41]=new c.Map(),d[41].set("epoch_id",b.epochId),d[41].set("backup_id",b.backupId),d[41].set("epoch_anon_id_blob",b.epochAnonIdBlob),d[41].set("epoch_root_key_blob",b.epochRootKeyBlob),d[41].set("epoch_status",b.epochStatus),d[41].set("authority_level",b.authorityLevel),d[39]=d[41])})},function(a){return d[38]=d[39]}]):c.seq([function(a){return function(a){c.logger(a).mustfix(a)}("[EncryptedBackups][LSEncryptedBackupsSecureEncryptedBackupsEpochsTable]Error! More than 1 open epoch was found. Calling the sync flow and returning empty results"),c.sp(b("LSSyncEpochs"))},function(a){return c.ftr(c.db.table(169).fetch(),function(a){return!1}).next().then(function(a,b){var e=a.done;a=a.value;return e?d[39]=f:(b=a.item,d[41]=new c.Map(),d[41].set("epoch_id",b.epochId),d[41].set("backup_id",b.backupId),d[41].set("epoch_anon_id_blob",b.epochAnonIdBlob),d[41].set("epoch_root_key_blob",b.epochRootKeyBlob),d[41].set("epoch_status",b.epochStatus),d[41].set("authority_level",b.authorityLevel),d[39]=d[41])})},function(a){return d[38]=d[39]}])},function(e){return d[38]!==f?c.seq([function(a){return d[39]=d[38].get("epoch_anon_id_blob"),d[38],d[40]=d[38].get("epoch_root_key_blob"),d[38],d[41]=c.createArray(),d[45]=(d[41].push([0,32]),d[41]),c.nop(b("LSBase64Encode.bs"),d[39]).then(function(a){return a=a,d[42]=a[0],a})},function(a){return d[42]!==f?c.seq([function(a){return c.nop(b("LSCreateDerivedKeys.bs"),c.blobs.of_string(["epoch_devices","_",d[42]].join("")),f,d[40],d[41]).then(function(a){return a=a,d[45]=a[0],a})},function(a){return d[45]?d[46]=!1:d[46]=!0,d[46]?c.seq([function(a){return function(a){c.logger(a).mustfix(a)}("[EncryptedBackups][MEBCryptoUtils]THIS IS NOT EXPECTED. Found null keys while deriving keys for epoch. Returning empty blobish"),c.nop(b("LSGetBlobFromString.bs"),"").then(function(a){return a=a,d[48]=a[0],a})},function(a){return d[47]=d[48]}]):c.seq([function(a){return c.ntop("Array",b("LSArrayGetObjectAt"),d[45],[0,0]).then(function(a){return a=a,d[48]=a[0],d[49]=a[1],a})},function(a){return d[47]=d[48]}])},function(a){return d[43]=d[47]}]):c.seq([function(a){return function(a){c.logger(a).mustfix(a)}("[EncryptedBackups][MEBCryptoUtils]THIS IS NOT EXPECTED. Failed to base64 encode epoch anon id. Returning empty blobish"),c.nop(b("LSGetBlobFromString.bs"),"").then(function(a){return a=a,d[45]=a[0],a})},function(a){return d[43]=d[45]}])},function(a){return c.nop(b("LSHmac_v2.bs"),d[43],d[10]).then(function(a){return a=a,d[44]=a[0],a})},function(e){return c.blobs.neq(d[44],f)?c.seq([function(a){return c.nop(b("LSBase64Encode.bs"),d[10]).then(function(a){return a=a,d[45]=a[0],a})},function(a){return c.nop(b("LSBase64Encode.bs"),d[44]).then(function(a){return a=a,d[46]=a[0],a})},function(a){return c.nop(b("LSBase64Encode.bs"),d[12]).then(function(a){return a=a,d[47]=a[0],a})},function(a){return c.nop(b("LSBase64Encode.bs"),d[13]==null?c.blob("bnVsbA=="):d[13]).then(function(a){return a=a,d[48]=a[0],a})},function(a){return c.nop(b("LSBase64Encode.bs"),d[15]).then(function(a){return a=a,d[49]=a[0],a})},function(a){return c.nop(b("LSBase64Encode.bs"),d[16]==null?c.blob("bnVsbA=="):d[16]).then(function(a){return a=a,d[50]=a[0],a})},function(e){return d[51]=a[0].get("backup_id"),a[0],d[52]=a[0].get("server_data_id"),a[0],d[53]=d[38].get("epoch_id"),d[38],d[54]=new c.Map(),d[54].set("supported_encryption_versions",d[18]),d[54].set("client_version",[0,1]),d[54].set("version_sig",d[23]==null?"":d[23]),d[55]=new c.Map(),d[55].set("backup_id",d[51]),d[55].set("device_epoch_hmac",d[46]==null?"":d[46]),d[55].set("device_public_key",d[45]==null?"":d[45]),d[55].set("epoch_auth_pubkey",d[49]==null?"":d[49]),d[55].set("epoch_auth_pubkey_sig",d[50]==null?"":d[50]),d[55].set("epoch_storage_pubkey",d[47]==null?"":d[47]),d[55].set("epoch_storage_pubkey_sig",d[48]==null?"":d[48]),d[55].set("ocmf_rotation_token",d[32]==null?"":d[32]),d[55].set("server_data_id",d[52]),d[55].set("device_registration_id",a[1]),d[55].set("base_epoch_id",d[53]),d[55].set("encryption_version_data",d[54]),d[56]=c.toJSON(d[55]),c.sp(b("LSIssueNewTask"),"messenger_encrypted_backups",[0,50017],d[56],f,f,[0,0],f)}]):c.seq([function(a){return function(a){c.logger(a).mustfix(a)}("[EncryptedBackups][LSEncryptedBackupsFinishAddPeerDeviceStoredProcedure]$device_epoch_hmac found to be null"),c.sp(b("LSDeleteBackupOnClient"),d[17],"backup_init_flow",!0)},function(a){return c.fe(c.db.table(169).fetch(),function(a){return a["delete"]()})}])}]):c.seq([function(a){return function(a){c.logger(a).mustfix(a)}("[EncryptedBackups][LSEncryptedBackupsFinishAddPeerDeviceStoredProcedure]Error! There should be exactly one open epoch. Deleting local state and terminating device addition"),c.sp(b("LSDeleteBackupOnClient"),d[17],"backup_init_flow",!0)},function(a){return c.fe(c.db.table(169).fetch(),function(a){return a["delete"]()})}])}]):(e.item,function(a){c.logger(a).mustfix(a)}("[EncryptedBackups][LSEncryptedBackupsFinishAddPeerDeviceStoredProcedure]An authoritative row already exists, aborting execution of add peer device"))})},function(a){return function(a){c.logger(a).info(a)}("[EncryptedBackups][LSEncryptedBackupsFinishAddPeerDeviceStoredProcedure]Finishing execution.")}])},function(a){return c.resolve(e)}])}e.exports=a}),null);
__d("LSIssueAttachmentBackupTask",["LSBase64Encode.bs","LSGetBlobFromString.bs","LSHmac_v2.bs","LSIssueNewTask","LSOcmfClientMap.bs"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[],e=[],f;return c.seq([function(e){return c.seq([function(a){return function(a){c.logger(a).info(a)}("[EncryptedBackups][LSEncryptedBackupsIssueAttachmentBackupTaskStoredProcedure]Beginning execution."),c.islc(c.ftr(c.db.table(168).fetch(),function(a){return c.i64.eq(a.authorityLevel,[0,80])}),0,c.i64.to_float([0,1])).next().then(function(a,b){var c=a.done;a=a.value;return c?(c=[f,f,f,f,f],d[0]=c[0],d[1]=c[1],d[2]=c[2],d[3]=c[3],d[4]=c[4],c):(b=a.item,c=[b.backupId,b.deviceId,b.mailboxRootKeyBlob,b.ocmfClientStateBlob,b.encryptionVersion],d[0]=c[0],d[1]=c[1],d[2]=c[2],d[3]=c[3],d[4]=c[4],c)})},function(a){return c.seq([function(a){return function(a){c.logger(a).info(a)}("[EncryptedBackups][LSEncryptedBackupsFindBackupStoredProcedure]Beginning execution."),c.islc(c.ftr(c.db.table(168).fetch(),function(a){return c.i64.eq(a.authorityLevel,[0,80])}),0,c.i64.to_float([0,1])).next().then(function(a,b){var e=a.done;a=a.value;return e?d[7]=f:(b=a.item,d[7]=c.i64.to_string(b.backupId))})},function(a){return function(a){c.logger(a).info(a)}("[EncryptedBackups][LSEncryptedBackupsFindBackupStoredProcedure]Finishing execution."),d[6]=d[7]}])},function(e){return c.blobs.neq(d[3],f)?c.i64.neq(d[1],f)?d[6]!==f?c.seq([function(e){return d[7]=c.createArray(),d[31]=(d[7].push(d[6]),d[7]),d[31]=(d[7].push(a[0]),d[7]),d[8]=c.toJSON(d[7]),c.nop(b("LSGetBlobFromString.bs"),d[8]).then(function(a){return a=a,d[9]=a[0],a})},function(a){return c.nop(b("LSHmac_v2.bs"),c.blob("YXR0YWNobWVudF9rZXlfc2NvcGU="),d[9]).then(function(a){return a=a,d[10]=a[0],a})},function(a){return c.nop(b("LSOcmfClientMap.bs"),d[3],d[10]).then(function(a){return a=a,d[11]=a[0],a})},function(a){return c.nop(b("LSBase64Encode.bs"),d[11]).then(function(a){return a=a,d[12]=a[0],a})},function(a){return c.nop(b("LSGetBlobFromString.bs"),d[6]).then(function(a){return a=a,d[13]=a[0],a})},function(a){return c.nop(b("LSHmac_v2.bs"),c.blob("bWFpbGJveF9pZF9zY29wZQ=="),d[13]).then(function(a){return a=a,d[14]=a[0],a})},function(a){return c.nop(b("LSOcmfClientMap.bs"),d[3],d[14]).then(function(a){return a=a,d[15]=a[0],a})},function(a){return c.nop(b("LSBase64Encode.bs"),d[15]).then(function(a){return a=a,d[16]=a[0],a})},function(e){return c.nop(b("LSGetBlobFromString.bs"),a[3]).then(function(a){return a=a,d[17]=a[0],a})},function(a){return c.nop(b("LSHmac_v2.bs"),c.blob("bWVzc2FnZV9pZF9zY29wZQ=="),d[17]).then(function(a){return a=a,d[18]=a[0],a})},function(a){return c.nop(b("LSOcmfClientMap.bs"),d[3],d[18]).then(function(a){return a=a,d[19]=a[0],a})},function(a){return c.nop(b("LSBase64Encode.bs"),d[19]).then(function(a){return a=a,d[20]=a[0],a})},function(e){return c.nop(b("LSGetBlobFromString.bs"),a[3]).then(function(a){return a=a,d[21]=a[0],a})},function(a){return c.nop(b("LSHmac_v2.bs"),c.blob("YXR0YWNobWVudF90b2tlbl9zYWx0X3Njb3Bl"),d[21]).then(function(a){return a=a,d[22]=a[0],a})},function(a){return c.nop(b("LSOcmfClientMap.bs"),d[3],d[22]).then(function(a){return a=a,d[23]=a[0],a})},function(a){return c.nop(b("LSBase64Encode.bs"),d[23]).then(function(a){return a=a,d[24]=a[0],a})},function(e){return c.nop(b("LSGetBlobFromString.bs"),a[4]).then(function(a){return a=a,d[25]=a[0],a})},function(a){return c.nop(b("LSHmac_v2.bs"),c.blob("dGhyZWFkX2lkX3Njb3Bl"),d[25]).then(function(a){return a=a,d[26]=a[0],a})},function(a){return c.nop(b("LSOcmfClientMap.bs"),d[3],d[26]).then(function(a){return a=a,d[27]=a[0],a})},function(a){return c.nop(b("LSBase64Encode.bs"),d[27]).then(function(a){return a=a,d[28]=a[0],a})},function(e){return d[29]=new c.Map(),d[29].set("attachment_index_key",d[12]==null?"":d[12]),d[29].set("delivery_object_id",a[0]),d[29].set("device_id",d[1]),d[29].set("mailbox_partial_id",d[16]==null?"":d[16]),d[29].set("media_type",a[2]),d[29].set("message_partial_id",d[20]==null?"":d[20]),d[29].set("product_type",a[1]),d[29].set("salt_partial_id",d[24]==null?"":d[24]),d[29].set("thread_partial_id",d[28]==null?"":d[28]),d[30]=c.toJSON(d[29]),c.sp(b("LSIssueNewTask"),"encrypted_backups_attachment_upload",[0,50012],d[30],f,f,[0,0],f)}]):c.resolve(function(a){c.logger(a).mustfix(a)}("[EncryptedBackups][LSEncryptedBackupsIssueAttachmentBackupTaskStoredProcedure]Missing backup_id for IssueAttachmentBackupTask")):c.resolve(function(a){c.logger(a).mustfix(a)}("[EncryptedBackups][LSEncryptedBackupsIssueAttachmentBackupTaskStoredProcedure]Missing device_id for IssueAttachmentBackupTask")):c.resolve(function(a){c.logger(a).mustfix(a)}("[EncryptedBackups][LSEncryptedBackupsIssueAttachmentBackupTaskStoredProcedure]Missing ocmf_client_state_blob for IssueAttachmentBackupTask"))},function(a){return function(a){c.logger(a).info(a)}("[EncryptedBackups][LSEncryptedBackupsIssueAttachmentBackupTaskStoredProcedure]Finishing execution.")}])},function(a){return c.resolve(e)}])}e.exports=a}),null);
__d("LSIssueAttachmentRestoreTask",["LSArrayGetObjectAt","LSBase64Encode.bs","LSBinaryToHex.bs","LSCreateDerivedKeys.bs","LSGetBlobFromInt64BE.bs","LSGetBlobFromString.bs","LSHmac_v2.bs","LSIssueNewTask","LSOcmfClientMap.bs","LSOpeEncrypt.bs","LSTruncateSortKey.bs","qex"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[],e=[],f;return c.seq([function(e){return c.seq([function(a){return function(a){c.logger(a).info(a)}("[EncryptedBackups][LSEncryptedBackupsIssueAttachmentRestoreTaskStoredProcedure]Beginning execution."),c.islc(c.ftr(c.db.table(168).fetch(),function(a){return c.i64.eq(a.authorityLevel,[0,80])}),0,c.i64.to_float([0,1])).next().then(function(a,b){var c=a.done;a=a.value;return c?(c=[f,f,f,f,f],d[0]=c[0],d[1]=c[1],d[2]=c[2],d[3]=c[3],d[4]=c[4],c):(b=a.item,c=[b.backupId,b.deviceId,b.mailboxRootKeyBlob,b.ocmfClientStateBlob,b.encryptionVersion],d[0]=c[0],d[1]=c[1],d[2]=c[2],d[3]=c[3],d[4]=c[4],c)})},function(a){return c.seq([function(a){return function(a){c.logger(a).info(a)}("[EncryptedBackups][LSEncryptedBackupsFindBackupStoredProcedure]Beginning execution."),c.islc(c.ftr(c.db.table(168).fetch(),function(a){return c.i64.eq(a.authorityLevel,[0,80])}),0,c.i64.to_float([0,1])).next().then(function(a,b){var e=a.done;a=a.value;return e?d[7]=f:(b=a.item,d[7]=c.i64.to_string(b.backupId))})},function(a){return function(a){c.logger(a).info(a)}("[EncryptedBackups][LSEncryptedBackupsFindBackupStoredProcedure]Finishing execution."),d[6]=d[7]}])},function(e){return c.blobs.neq(d[3],f)?c.i64.neq(d[1],f)?d[6]!==f?c.blobs.neq(d[2],f)?c.seq([function(e){return d[7]=c.createArray(),d[40]=(d[7].push(d[6]),d[7]),d[40]=(d[7].push(a[1]),d[7]),d[8]=c.toJSON(d[7]),d[9]=c.createArray(),d[40]=(d[9].push([0,32]),d[9]),c.nop(b("LSGetBlobFromString.bs"),["thread_ope_key","_",a[5]].join("")).then(function(a){return a=a,d[10]=a[0],a})},function(a){return c.nop(b("LSCreateDerivedKeys.bs"),d[10],f,d[2],d[9]).then(function(a){return a=a,d[11]=a[0],a})},function(a){return d[11]?d[12]=!1:d[12]=!0,d[12]?c.seq([function(a){return function(a){c.logger(a).mustfix(a)}("[EncryptedBackups][MEBCryptoUtils]Got null keys while deriving message list OPE key. Returning empty blobish"),c.nop(b("LSGetBlobFromString.bs"),"").then(function(a){return a=a,d[40]=a[0],a})},function(a){return d[13]=d[40]}]):c.seq([function(a){return c.ntop("Array",b("LSArrayGetObjectAt"),d[11],[0,0]).then(function(a){return a=a,d[40]=a[0],d[41]=a[1],a})},function(a){return d[13]=d[40]}])},function(e){return d[39]=c.i64.to_string(a[6]),d[38]=function(a){return a==f?f:a}(b("qex")._("78")),d[38]!==f?d[14]=d[38]:d[14]=!0,d[14]?c.seq([function(a){return c.nop(b("LSGetBlobFromInt64BE.bs"),c.i64.from_string(d[39])).then(function(a){return a=a,d[40]=a[0],a})},function(a){return c.nop(b("LSTruncateSortKey.bs"),d[40]).then(function(a){return a=a,d[41]=a[0],a})},function(a){return c.nop(b("LSOpeEncrypt.bs"),d[13],d[41],[0,16]).then(function(a){return a=a,d[42]=a[0],a})},function(a){return c.nop(b("LSBinaryToHex.bs"),d[42]).then(function(a){return a=a,d[43]=a[0],a})},function(a){return d[15]=d[43]==null?"":d[43]}]):c.resolve(d[15]=d[39])},function(a){return c.nop(b("LSGetBlobFromString.bs"),d[8]).then(function(a){return a=a,d[16]=a[0],a})},function(a){return c.nop(b("LSHmac_v2.bs"),c.blob("YXR0YWNobWVudF9rZXlfc2NvcGU="),d[16]).then(function(a){return a=a,d[17]=a[0],a})},function(a){return c.nop(b("LSOcmfClientMap.bs"),d[3],d[17]).then(function(a){return a=a,d[18]=a[0],a})},function(a){return c.nop(b("LSBase64Encode.bs"),d[18]).then(function(a){return a=a,d[19]=a[0],a})},function(a){return c.nop(b("LSGetBlobFromString.bs"),d[6]).then(function(a){return a=a,d[20]=a[0],a})},function(a){return c.nop(b("LSHmac_v2.bs"),c.blob("bWFpbGJveF9pZF9zY29wZQ=="),d[20]).then(function(a){return a=a,d[21]=a[0],a})},function(a){return c.nop(b("LSOcmfClientMap.bs"),d[3],d[21]).then(function(a){return a=a,d[22]=a[0],a})},function(a){return c.nop(b("LSBase64Encode.bs"),d[22]).then(function(a){return a=a,d[23]=a[0],a})},function(e){return c.nop(b("LSGetBlobFromString.bs"),a[4]).then(function(a){return a=a,d[24]=a[0],a})},function(a){return c.nop(b("LSHmac_v2.bs"),c.blob("bWVzc2FnZV9pZF9zY29wZQ=="),d[24]).then(function(a){return a=a,d[25]=a[0],a})},function(a){return c.nop(b("LSOcmfClientMap.bs"),d[3],d[25]).then(function(a){return a=a,d[26]=a[0],a})},function(a){return c.nop(b("LSBase64Encode.bs"),d[26]).then(function(a){return a=a,d[27]=a[0],a})},function(e){return c.nop(b("LSGetBlobFromString.bs"),a[4]).then(function(a){return a=a,d[28]=a[0],a})},function(a){return c.nop(b("LSHmac_v2.bs"),c.blob("YXR0YWNobWVudF90b2tlbl9zYWx0X3Njb3Bl"),d[28]).then(function(a){return a=a,d[29]=a[0],a})},function(a){return c.nop(b("LSOcmfClientMap.bs"),d[3],d[29]).then(function(a){return a=a,d[30]=a[0],a})},function(a){return c.nop(b("LSBase64Encode.bs"),d[30]).then(function(a){return a=a,d[31]=a[0],a})},function(e){return c.nop(b("LSGetBlobFromString.bs"),a[5]).then(function(a){return a=a,d[32]=a[0],a})},function(a){return c.nop(b("LSHmac_v2.bs"),c.blob("dGhyZWFkX2lkX3Njb3Bl"),d[32]).then(function(a){return a=a,d[33]=a[0],a})},function(a){return c.nop(b("LSOcmfClientMap.bs"),d[3],d[33]).then(function(a){return a=a,d[34]=a[0],a})},function(a){return c.nop(b("LSBase64Encode.bs"),d[34]).then(function(a){return a=a,d[35]=a[0],a})},function(e){return d[36]=new c.Map(),d[36].set("attachment_index_key",d[19]==null?"":d[19]),d[36].set("backup_ent_fbid",a[0]),d[36].set("delivery_object_id",a[1]),d[36].set("device_id",d[1]),d[36].set("mailbox_partial_id",d[23]==null?"":d[23]),d[36].set("media_type",a[3]),d[36].set("message_partial_id",d[27]==null?"":d[27]),d[36].set("product_type",a[2]),d[36].set("salt_partial_id",d[31]==null?"":d[31]),d[36].set("sort_key",d[15]),d[36].set("thread_partial_id",d[35]==null?"":d[35]),d[37]=c.toJSON(d[36]),c.sp(b("LSIssueNewTask"),"encrypted_backups_attachment_restore",[0,50020],d[37],f,f,[0,0],f)}]):c.resolve(function(a){c.logger(a).mustfix(a)}("[EncryptedBackups][LSEncryptedBackupsIssueAttachmentRestoreTaskStoredProcedure]Missing mailbox_root_key for IssueAttachmentRestoreTask")):c.resolve(function(a){c.logger(a).mustfix(a)}("[EncryptedBackups][LSEncryptedBackupsIssueAttachmentRestoreTaskStoredProcedure]Missing backup_id for IssueAttachmentRestoreTask")):c.resolve(function(a){c.logger(a).mustfix(a)}("[EncryptedBackups][LSEncryptedBackupsIssueAttachmentRestoreTaskStoredProcedure]Missing device_id for IssueAttachmentRestoreTask")):c.resolve(function(a){c.logger(a).mustfix(a)}("[EncryptedBackups][LSEncryptedBackupsIssueAttachmentRestoreTaskStoredProcedure]Missing ocmf_client_state_blob for IssueAttachmentRestoreTask"))},function(a){return function(a){c.logger(a).info(a)}("[EncryptedBackups][LSEncryptedBackupsIssueAttachmentRestoreTaskStoredProcedure]Finishing execution.")}])},function(a){return c.resolve(e)}])}e.exports=a}),null);
__d("LSUploadMessage",["LSIssueNewTaskAndGetTaskID"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[],e=[],f;return c.seq([function(e){return c.seq([function(a){return function(a){c.logger(a).info(a)}("[EncryptedBackups][LSEncryptedBackupsUploadMessageStoredProcedure]Beginning execution."),c.islc(c.ftr(c.db.table(168).fetch(),function(a){return c.i64.eq(a.authorityLevel,[0,80])}),0,c.i64.to_float([0,1])).next().then(function(a,b){var c=a.done;a=a.value;return c?(c=[f,f,f,f,f],d[0]=c[0],d[1]=c[1],d[2]=c[2],d[3]=c[3],d[4]=c[4],c):(b=a.item,c=[b.backupId,b.deviceId,b.mailboxRootKeyBlob,b.ocmfClientStateBlob,b.encryptionVersion],d[0]=c[0],d[1]=c[1],d[2]=c[2],d[3]=c[3],d[4]=c[4],c)})},function(e){return c.i64.neq(d[0],f)&&c.i64.neq(d[1],f)&&c.blobs.neq(d[3],f)&&!0?c.seq([function(a){return c.sp(b("LSIssueNewTaskAndGetTaskID"),"encrypted_backups_upload",[0,319],"",f,f,[0,0],[0,93]).then(function(a){return a=a,d[6]=a[0],a})},function(b){return c.i64.eq(d[6],[-1,4294967295])?c.resolve(function(a){c.logger(a).mustfix(a)}("[EncryptedBackups][LSEncryptedBackupsUploadMessageStoredProcedure]issueNewTaskAndGetTaskIdFromParams failed")):c.db.table(177).add({pk:void 0,pendingBackupTaskId:d[6],persistentId:"",actionType:a[4],contentType:[0,1],backupStatus:[0,1],listKey:a[0],uniqueKey:a[1],sortKey:c.i64.to_string(a[2]),echoContent:a[3]})}]):c.resolve()},function(a){return function(a){c.logger(a).info(a)}("[EncryptedBackups][LSEncryptedBackupsUploadMessageStoredProcedure]Finishing execution.")}])},function(a){return c.resolve(e)}])}e.exports=a}),null);
__d("LSUploadThread",["LSIssueNewTaskAndGetTaskID","LSSerializeThreadListKey"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[],e=[],f;return c.seq([function(e){return c.seq([function(e){return function(a){c.logger(a).info(a)}("[EncryptedBackups][LSEncryptedBackupsUploadThreadStoredProcedure]Beginning execution."),c.ftr(c.db.table(168).fetch(),function(a){return c.i64.eq(a.authorityLevel,[0,80])}).next().then(function(e,g){var h=e.done;e=e.value;return h?function(a){c.logger(a).info(a)}("[EncryptedBackups][LSEncryptedBackupsUploadThreadStoredProcedure]backup_id is not available"):(g=e.item,c.seq([function(e){return c.sp(b("LSSerializeThreadListKey"),a[1],c.i64.to_string(g.backupId),a[2]).then(function(a){return a=a,d[1]=a[0],a})},function(a){return c.sp(b("LSIssueNewTaskAndGetTaskID"),"encrypted_backups_upload",[0,319],"",f,f,[0,0],[0,93]).then(function(a){return a=a,d[2]=a[0],a})},function(b){return c.i64.eq(d[2],[-1,4294967295])?c.resolve(function(a){c.logger(a).mustfix(a)}("[EncryptedBackups][LSEncryptedBackupsUploadThreadStoredProcedure]issueNewTaskAndGetTaskIdFromParams failed")):c.db.table(177).add({pk:void 0,pendingBackupTaskId:d[2],persistentId:"",actionType:a[5],contentType:[0,2],backupStatus:[0,1],listKey:d[1],uniqueKey:a[0],sortKey:c.i64.to_string(a[3]),echoContent:a[4]})}]))})},function(a){return function(a){c.logger(a).info(a)}("[EncryptedBackups][LSEncryptedBackupsUploadThreadStoredProcedure]Finishing execution.")}])},function(a){return c.resolve(e)}])}e.exports=a}),null);
__d("LSClearMessagePlaceholderRange",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.seq([function(c){return b.fe(b.ftr(b.db.table(13).fetch([[[a[0],[0,0]]]]),function(c){return b.i64.eq(c.threadKey,a[0])&&c.minMessageId===a[1]&&b.i64.eq([0,0],c.minTimestampMs)&&b.i64.eq([0,0],c.maxTimestampMs)}),function(a){return a["delete"]()})},function(a){return b.resolve(c)}])}e.exports=a}),null);
__d("LSInsertNewMessageRange",["LSClearMessagePlaceholderRange"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[],e=[];return c.seq([function(e){return c.seq([function(d){return c.sp(b("LSClearMessagePlaceholderRange"),a[0],a[9])},function(b){return c.ftr(c.db.table(13).fetch([[[a[0],{lte:a[5]}]]]),function(b){return c.i64.eq(b.threadKey,a[0])&&c.i64.le(b.minTimestampMs,a[5])&&c.i64.ge(b.maxTimestampMs,a[5])}).next().then(function(b,c){var e=b.done;b=b.value;return e?(e=[a[1],a[3],a[7]],d[0]=e[0],d[1]=e[1],d[2]=e[2],e):(c=b.item,e=[c.minTimestampMs,c.minMessageId,c.hasMoreBefore],d[0]=e[0],d[1]=e[1],d[2]=e[2],e)})},function(b){return c.ftr(c.db.table(13).fetch([[[a[0],{lte:a[6]}]]]),function(b){return c.i64.eq(b.threadKey,a[0])&&c.i64.le(b.minTimestampMs,a[6])&&c.i64.ge(b.maxTimestampMs,a[6])}).next().then(function(b,c){var e=b.done;b=b.value;return e?(e=[a[2],a[4],a[8]],d[4]=e[0],d[5]=e[1],d[6]=e[2],e):(c=b.item,e=[c.maxTimestampMs,c.maxMessageId,c.hasMoreAfter],d[4]=e[0],d[5]=e[1],d[6]=e[2],e)})},function(b){return c.fe(c.ftr(c.db.table(13).fetch([[[a[0],{lte:a[6]}]]]),function(b){return c.i64.eq(b.threadKey,a[0])&&c.i64.ge(a[6],b.minTimestampMs)&&c.i64.le(a[5],b.maxTimestampMs)}),function(a){return a["delete"]()})},function(b){return c.db.table(13).put({threadKey:a[0],minTimestampMs:d[0],minMessageId:d[1],maxTimestampMs:d[4],maxMessageId:d[5],isLoadingBefore:!1,isLoadingAfter:!1,hasMoreBefore:d[2],hasMoreAfter:d[6]})}])},function(a){return c.resolve(e)}])}e.exports=a}),null);
__d("LSUpsertAttachmentRange",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.seq([function(c){return b.seq([function(c){return b.fe(b.db.table(17).fetch([[[a[0],a[1]]]]),function(a){return a["delete"]()})},function(c){return b.db.table(17).add({threadKey:a[0],mediaGroup:a[1],minTimestampMs:a[2],maxTimestampMs:[2328,1316134911],hasMoreBefore:a[3],hasMoreAfter:!1,isLoadingBefore:!1,isLoadingAfter:!1})}])},function(a){return b.resolve(c)}])}e.exports=a}),null);
__d("CometCIXCMSBody_body.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometCIXCMSBody_body",selections:[{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"text",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"CometTextWithEntitiesRelay_textWithEntities"}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"body_color",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"body_size",storageKey:null}],type:"CIXBodyChildTag",abstractKey:null};e.exports=a}),null);
__d("CometCIXCMSHeadline_headline.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometCIXCMSHeadline_headline",selections:[{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"text",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"CometTextWithEntitiesRelay_textWithEntities"}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"headline_color",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"headline_size",storageKey:null}],type:"CIXHeadlineChildTag",abstractKey:null};e.exports=a}),null);
__d("CometCIXCMSTextPairing_text$normalization.graphql",["CometTextWithEntitiesRelay_textWithEntities$normalization.graphql"],(function(a,b,c,d,e,f){"use strict";a=function(){var a={alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"text",plural:!1,selections:[{args:null,fragment:b("CometTextWithEntitiesRelay_textWithEntities$normalization.graphql"),kind:"FragmentSpread"}],storageKey:null};return{kind:"SplitOperation",metadata:{},name:"CometCIXCMSTextPairing_text$normalization",selections:[{alias:null,args:null,concreteType:"CIXBodyChildTag",kind:"LinkedField",name:"body",plural:!0,selections:[a,{alias:null,args:null,kind:"ScalarField",name:"body_color",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"body_size",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"CIXHeadlineChildTag",kind:"LinkedField",name:"headline",plural:!1,selections:[a,{alias:null,args:null,kind:"ScalarField",name:"headline_color",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"headline_size",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"level",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"margin_between_bodies",storageKey:null}]}}();e.exports=a}),null);
__d("CometCIXCMSTextPairing_text.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometCIXCMSTextPairing_text",selections:[{alias:null,args:null,concreteType:"CIXBodyChildTag",kind:"LinkedField",name:"body",plural:!0,selections:[{args:null,kind:"FragmentSpread",name:"CometCIXCMSBody_body"}],storageKey:null},{alias:null,args:null,concreteType:"CIXHeadlineChildTag",kind:"LinkedField",name:"headline",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"CometCIXCMSHeadline_headline"}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"level",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"margin_between_bodies",storageKey:null}],type:"CIXTextPairingChildTag",abstractKey:null};e.exports=a}),null);
__d("CometProfileVideoSection_profileVideo.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometProfileVideoSection_profileVideo",selections:[{args:null,documentName:"CometProfileVideoSection_profileVideo",fragmentName:"CometProfileVideo_profileVideo",fragmentPropName:"profileVideo",kind:"ModuleImport"}],type:"ProfileVideo",abstractKey:null};e.exports=a}),null);
__d("CometWarningScreenOverlay_data$normalization.graphql",["CometTextWithEntitiesRelay_textWithEntities$normalization.graphql"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{args:null,fragment:b("CometTextWithEntitiesRelay_textWithEntities$normalization.graphql"),kind:"FragmentSpread"}],c={alias:null,args:null,kind:"ScalarField",name:"render_type",storageKey:null};return{kind:"SplitOperation",metadata:{},name:"CometWarningScreenOverlay_data$normalization",selections:[{alias:null,args:null,kind:"ScalarField",name:"cover_style",storageKey:null},{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"title",plural:!1,selections:a,storageKey:null},{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"subtitle",plural:!1,selections:a,storageKey:null},{alias:null,args:null,concreteType:"WarningScreenAction",kind:"LinkedField",name:"warning_screen_actions",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"context",storageKey:null},{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"label",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null}],storageKey:null},c,{alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"ixt_trigger",storageKey:null}],storageKey:null},{alias:null,args:[{kind:"Literal",name:"color",value:"fds-black"}],concreteType:"Image",kind:"LinkedField",name:"icon",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"scale",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null}],storageKey:'icon(color:"fds-black")'},c,{alias:null,args:null,kind:"ScalarField",name:"content_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"container_story_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"top_objectionable_category",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"inform_session_id",storageKey:null}]}}();e.exports=a}),null);
__d("BloodDonationHubHomeQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="4874173502663751"}),null);
__d("BloodDonationHubHomeQuery$Parameters",["BloodDonationHubHomeQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:b("BloodDonationHubHomeQuery_facebookRelayOperation"),metadata:{},name:"BloodDonationHubHomeQuery",operationKind:"query",text:null}};e.exports=a}),null);
__d("BloodDonationHubRootQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="4689523341110307"}),null);
__d("BloodDonationHubRootQuery$Parameters",["BloodDonationHubRootQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:b("BloodDonationHubRootQuery_facebookRelayOperation"),metadata:{},name:"BloodDonationHubRootQuery",operationKind:"query",text:null}};e.exports=a}),null);
__d("LiveVideoCometNuxForCVCInternal_nux$normalization.graphql",[],(function(a,b,c,d,e,f){"use strict";a={kind:"SplitOperation",metadata:{},name:"LiveVideoCometNuxForCVCInternal_nux$normalization",selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"nux_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"should_show",storageKey:null}]};e.exports=a}),null);
__d("LiveVideoCometNuxForCVCInternal_nux.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"LiveVideoCometNuxForCVCInternal_nux",selections:[{args:null,kind:"FragmentSpread",name:"useNUXHelpers_nux"}],type:"DefaultNUX",abstractKey:null};e.exports=a}),null);
__d("LiveVideoCometNuxForCVCInternal_video.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"LiveVideoCometNuxForCVCInternal_video",selections:[{alias:null,args:null,kind:"ScalarField",name:"is_premiere",storageKey:null}],type:"Video",abstractKey:null};e.exports=a}),null);
__d("BypassLoginAccountSwitchingRootQuery.graphql",["BypassLoginAccountSwitchingRootQuery_facebookRelayOperation","relay-runtime"],(function(a,b,c,d,e,f){"use strict";a=function(){var a={defaultValue:null,kind:"LocalArgument",name:"params"},c={defaultValue:null,kind:"LocalArgument",name:"user_id"},d={kind:"Variable",name:"params",variableName:"params"},e={alias:null,args:null,kind:"ScalarField",name:"gender",storageKey:null},f={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null};return{fragment:{argumentDefinitions:[a,c],kind:"Fragment",metadata:null,name:"BypassLoginAccountSwitchingRootQuery",selections:[{args:[d,{kind:"Variable",name:"user_id",variableName:"user_id"}],kind:"FragmentSpread",name:"BypassLoginAccountSwitchingViewQuery"}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[c,a],kind:"Operation",name:"BypassLoginAccountSwitchingRootQuery",selections:[{alias:null,args:[d],concreteType:"BypassLoginAccountSwitching",kind:"LinkedField",name:"bypass_login_account_switching",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"contact_point",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"cancel_uri",storageKey:null}],storageKey:null},{alias:null,args:[{kind:"Variable",name:"id",variableName:"user_id"}],concreteType:"User",kind:"LinkedField",name:"user",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},e,{alias:null,args:[{kind:"Literal",name:"height",value:200},{kind:"Literal",name:"width",value:200}],concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null}],storageKey:"profile_picture(height:200,width:200)"},f],storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"me",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"InlineFragment",selections:[e,{alias:null,args:null,kind:"ScalarField",name:"short_name",storageKey:null}],type:"User",abstractKey:null},f],storageKey:null}]},params:{id:b("BypassLoginAccountSwitchingRootQuery_facebookRelayOperation"),metadata:{},name:"BypassLoginAccountSwitchingRootQuery",operationKind:"query",text:null}}}();b("relay-runtime").PreloadableQueryRegistry.set(a.params.id,a);e.exports=a}),null);
__d("BypassLoginAccountSwitchingViewQuery.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a={alias:null,args:null,kind:"ScalarField",name:"gender",storageKey:null};return{argumentDefinitions:[{defaultValue:null,kind:"LocalArgument",name:"params"},{defaultValue:null,kind:"LocalArgument",name:"user_id"}],kind:"Fragment",metadata:null,name:"BypassLoginAccountSwitchingViewQuery",selections:[{kind:"RequiredField",field:{alias:null,args:[{kind:"Variable",name:"params",variableName:"params"}],concreteType:"BypassLoginAccountSwitching",kind:"LinkedField",name:"bypass_login_account_switching",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"contact_point",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"cancel_uri",storageKey:null}],storageKey:null},action:"THROW",path:"bypass_login_account_switching"},{kind:"RequiredField",field:{alias:null,args:[{kind:"Variable",name:"id",variableName:"user_id"}],concreteType:"User",kind:"LinkedField",name:"user",plural:!1,selections:[{kind:"RequiredField",field:{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},action:"THROW",path:"user.name"},a,{alias:null,args:[{kind:"Literal",name:"height",value:200},{kind:"Literal",name:"width",value:200}],concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null}],storageKey:"profile_picture(height:200,width:200)"}],storageKey:null},action:"THROW",path:"user"},{kind:"RequiredField",field:{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"me",plural:!1,selections:[{kind:"InlineFragment",selections:[a,{kind:"RequiredField",field:{alias:null,args:null,kind:"ScalarField",name:"short_name",storageKey:null},action:"THROW",path:"me.short_name"}],type:"User",abstractKey:null}],storageKey:null},action:"THROW",path:"me"}],type:"Query",abstractKey:null}}();e.exports=a}),null);
__d("CometProfileAdCenterRootContentQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="5236953603058175"}),null);
__d("CometProfileAdCenterRootContentQuery$Parameters",["CometProfileAdCenterRootContentQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:b("CometProfileAdCenterRootContentQuery_facebookRelayOperation"),metadata:{},name:"CometProfileAdCenterRootContentQuery",operationKind:"query",text:null}};e.exports=a}),null);
__d("VideoPlayerCostreamingControl_video$normalization.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},b={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null};return{kind:"SplitOperation",metadata:{},name:"VideoPlayerCostreamingControl_video$normalization",selections:[a,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"owner",plural:!1,selections:[b,a],storageKey:null},b]}}();e.exports=a}),null);
__d("VideoPlayerCostreamingControl_video.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null};return{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"VideoPlayerCostreamingControl_video",selections:[{kind:"RequiredField",field:a,action:"LOG",path:"id"},{kind:"RequiredField",field:{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"owner",plural:!1,selections:[{kind:"RequiredField",field:a,action:"LOG",path:"owner.id"}],storageKey:null},action:"LOG",path:"owner"},{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],type:"Video",abstractKey:null}}();e.exports=a}),null);
__d("VideoPlayerModeratorControl_video$normalization.graphql",[],(function(a,b,c,d,e,f){"use strict";a={kind:"SplitOperation",metadata:{},name:"VideoPlayerModeratorControl_video$normalization",selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}]};e.exports=a}),null);
__d("VideoPlayerModeratorControl_video.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"VideoPlayerModeratorControl_video",selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],type:"Video",abstractKey:null};e.exports=a}),null);
__d("BillingCurrencyAmount_amount.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"BillingCurrencyAmount_amount",selections:[{alias:null,args:null,kind:"ScalarField",name:"currency",storageKey:null},{alias:"formatted_amount_no_symbol",args:[{kind:"Literal",name:"show_symbol",value:!1}],kind:"ScalarField",name:"formatted_amount",storageKey:"formatted_amount(show_symbol:false)"}],type:"CurrencyAmount",abstractKey:null};e.exports=a}),null);
__d("CometBookmarksRoot.react",["CometClassicHomeLeftRailContainer.react","CometListCellGlimmer.react","CometPlaceholder.react","CometProductAttributionContextProvider.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){return h.jsx(c("CometPlaceholder.react"),{fallback:h.jsx(c("CometListCellGlimmer.react"),{imageSize:36,imageStyle:"roundedRect",numberOfItems:9}),children:h.jsx("div",{className:"cxgpxx05",children:h.jsx(c("CometProductAttributionContextProvider.react"),{value:"more",children:h.jsx(c("CometClassicHomeLeftRailContainer.react"),{leftRailContainerQueryReference:a.queries.menuContainerQueryReference})})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CometCIXCMSBody.react",["CometCIXCMSBody_body.graphql","CometInlineEntityRenderer","CometLinkedEntityRenderer","CometRelay","CometTextWithEntitiesRelay.react","TetraText.react","react","useNullthrowsViolation"],(function(a,b,c,d,e,f,g){"use strict";var h,i=d("react"),j={"*":[c("CometLinkedEntityRenderer")],Inline:[c("CometInlineEntityRenderer")]};function k(a){switch(a){case"DISABLED":return"disabled";case"HIGHLIGHT":return"highlight";case"NEGATIVE":return"negative";case"POSITIVE":return"positive";case"PRIMARY":return"primary";case"SECONDARY":return"secondary";case"TERTIARY":return"tertiary";case"WHITE":return"white";default:return"primary"}}function l(a){switch(a){case"BODY_1":return"body1";case"BODY_2":return"body2";default:return"body2"}}function a(a){var e=d("CometRelay").useFragment(h!==void 0?h:h=b("CometCIXCMSBody_body.graphql"),a.body),f=c("useNullthrowsViolation")(e.text),g=k(e.body_color);e=l(e.body_size);return i.jsx("div",{style:{marginTop:a.marginTop},children:i.jsx(c("TetraText.react"),{color:g,type:e,children:i.jsx(c("CometTextWithEntitiesRelay.react"),{renderers:j,textWithEntities:f})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CometCIXCMSHeadline.react",["CometCIXCMSHeadline_headline.graphql","CometInlineEntityRenderer","CometLinkedEntityRenderer","CometRelay","CometTextWithEntitiesRelay.react","TetraText.react","react","useNullthrowsViolation"],(function(a,b,c,d,e,f,g){"use strict";var h,i=d("react"),j={"*":[c("CometLinkedEntityRenderer")],Inline:[c("CometInlineEntityRenderer")]};function k(a){switch(a){case"HIGHLIGHT":return"highlight";case"NEGATIVE":return"negative";case"POSITIVE":return"positive";case"PRIMARY":return"primary";case"SECONDARY":return"secondary";case"TERTIARY":return"tertiary";case"WHITE":return"white";default:return"primary"}}function l(a){switch(a){case"HEADLINE_1_EMPHASIZED":return"headlineEmphasized1";case"HEADLINE_2_EMPHASIZED":return"headlineEmphasized2";case"HEADLINE_3_EMPHASIZED":return"headlineEmphasized3";default:return"headlineEmphasized3"}}function a(a){a=d("CometRelay").useFragment(h!==void 0?h:h=b("CometCIXCMSHeadline_headline.graphql"),a.headline);var e=c("useNullthrowsViolation")(a.text),f=k(a.headline_color);a=l(a.headline_size);return i.jsx(c("TetraText.react"),{color:f,type:a,children:i.jsx(c("CometTextWithEntitiesRelay.react"),{renderers:j,textWithEntities:e})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CometCIXCMSTextPairing.react",["CometCIXCMSBody.react","CometCIXCMSHeadline.react","CometCIXCMSTextPairing_text.graphql","CometRelay","TetraTextPairing.react","react","useNullthrowsViolation"],(function(a,b,c,d,e,f,g){"use strict";var h,i=d("react");function j(a,b){return a.length===0?null:i.jsx("div",{children:a.map(function(a,d){return i.jsx(c("CometCIXCMSBody.react"),{body:a,marginTop:d===0?0:b},"body_"+d)})})}j.displayName=j.name+" [from "+f.id+"]";function k(a){switch(a){case"LEVEL_1":return 1;case"LEVEL_2":return 2;case"LEVEL_3":return 3;case"LEVEL_4":return 4;default:return 2}}function a(a){a=d("CometRelay").useFragment(h!==void 0?h:h=b("CometCIXCMSTextPairing_text.graphql"),a.text);var e=c("useNullthrowsViolation")(a.body),f=c("useNullthrowsViolation")(a.margin_between_bodies);return i.jsx(c("TetraTextPairing.react"),{body:j(e,f),headline:a.headline==null?null:i.jsx(c("CometCIXCMSHeadline.react"),{headline:a.headline}),level:k(a.level)})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CometProfileVideoSection.react",["CometProfileVideoSection_profileVideo.graphql","CometRelay","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=d("react");function a(a){var c=a.profileVideo;a=babelHelpers.objectWithoutPropertiesLoose(a,["profileVideo"]);c=d("CometRelay").useFragment(h!==void 0?h:h=b("CometProfileVideoSection_profileVideo.graphql"),c);return i.jsx(d("CometRelay").MatchContainer,{match:c,props:babelHelpers["extends"]({},a)})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("GroupsCometDivider.react",["react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i={16:{marginEnd:"wkznzc2l",marginStart:"dhix69tm"},divider:{backgroundColor:"pwoa4pd7",height:"ay7djpcl"}};function a(a){var b=a.className;a=a.marginHorizontal;a=a===void 0?0:a;a=c("stylex")(i.divider,i[a])+(b==null?"":" "+b);return h.jsx("div",{className:a})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("buildBloodDonationHubRoute.entrypoint",["BloodDonationHubRootQuery$Parameters","JSResourceForInteraction","WebPixelRatio","createContentAreaCompoundEntryPointBuilder"],(function(a,b,c,d,e,f,g){"use strict";a=c("createContentAreaCompoundEntryPointBuilder")(c("JSResourceForInteraction")("BloodDonationHubRoot.react").__setRef("buildBloodDonationHubRoute.entrypoint"),function(a){return{opportunitiesQueryReference:{parameters:b("BloodDonationHubRootQuery$Parameters"),variables:{scale:d("WebPixelRatio").get()}}}});g["default"]=a}),98);
__d("BloodDonationHubHome.entrypoint",["BloodDonationHubHomeQuery$Parameters","JSResourceForInteraction","WebPixelRatio","buildBloodDonationHubRoute.entrypoint"],(function(a,b,c,d,e,f,g){"use strict";a=c("buildBloodDonationHubRoute.entrypoint")(c("JSResourceForInteraction")("BloodDonationHubHome.react").__setRef("BloodDonationHubHome.entrypoint"),function(){return{queries:{homeQueryReference:{parameters:c("BloodDonationHubHomeQuery$Parameters"),variables:{scale:d("WebPixelRatio").get()}}}}});g["default"]=a}),98);
__d("IncognitoModeDetectionFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f){"use strict";a=b("getFalcoLogPolicy_DO_NOT_USE")("1113");c=b("FalcoLoggerInternal").create("incognito_mode_detection",a);e.exports=c}),null);
__d("CometIncognitoModeInferenceLogger",["IncognitoModeDetectionFalcoEvent","regeneratorRuntime","requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h=c("requireDeferred")("incognito").__setRef("CometIncognitoModeInferenceLogger");c("IncognitoModeDetectionFalcoEvent").logAsync(function(){var a,c;return b("regeneratorRuntime").async(function(d){while(1)switch(d.prev=d.next){case 0:d.next=2;return b("regeneratorRuntime").awrap(h.load());case 2:a=d.sent;d.next=5;return b("regeneratorRuntime").awrap(a());case 5:c=d.sent;return d.abrupt("return",{detected:c});case 7:case"end":return d.stop()}},null,this)})}),34);
__d("LiveVideoCometNuxForCVCInternal.react",["fbt","CometContextualMessage.react","CometRelay","LiveVideoCometNuxForCVCInternal_nux.graphql","LiveVideoCometNuxForCVCInternal_video.graphql","react","useNUXHelpers"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=d("react");function a(a){var e=d("CometRelay").useFragment(i!==void 0?i:i=b("LiveVideoCometNuxForCVCInternal_nux.graphql"),a.nux);a=d("CometRelay").useFragment(j!==void 0?j:j=b("LiveVideoCometNuxForCVCInternal_video.graphql"),a.video);e=c("useNUXHelpers")(e);var f=e[0];e=e[1];if(!f)return null;a=(f=a==null?void 0:a.is_premiere)!=null?f:!1;f=a?h._(/*FBT_CALL*/"B\u1ea1n \u0111ang xem bu\u1ed5i c\u00f4ng chi\u1ebfu"/*FBT_CALL*/):h._(/*FBT_CALL*/"B\u1ea1n \u0111ang xem video tr\u1ef1c ti\u1ebfp"/*FBT_CALL*/);return k.jsx("div",{className:"qhjacvs6 kkf49tns",children:k.jsx(c("CometContextualMessage.react"),{body:h._(/*FBT_CALL*/"Ng\u01b0\u1eddi ph\u00e1t tr\u1ef1c ti\u1ebfp v\u00e0 nh\u1eefng ng\u01b0\u1eddi xem kh\u00e1c c\u0169ng th\u1ea5y r\u1eb1ng b\u1ea1n \u0111ang xem."/*FBT_CALL*/),headline:f,onClose:e})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("BypassLoginAccountSwitchingView.react",["fbt","BypassLoginAccountSwitchingViewQuery.graphql","CometCard.react","CometColumn.react","CometColumnItem.react","CometContentArea.react","CometLayout.react","CometRelay","CometRow.react","CometRowItem.react","GraphQLGender","TetraButtonGroup.react","TetraProfilePhoto.react","TetraText.react","TetraTextPairing.react","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=d("react"),k=60;function a(a){var e,f=d("CometRelay").useFragment(i!==void 0?i:i=b("BypassLoginAccountSwitchingViewQuery.graphql"),a.query),g={gender:new(c("GraphQLGender"))(f.me.gender).toIntlVariationsEnum(),name:f.me.short_name},l={gender:new(c("GraphQLGender"))(f.user.gender).toIntlVariationsEnum(),name:f.user.name};return j.jsx(c("CometLayout.react"),{children:j.jsx(c("CometContentArea.react"),{children:j.jsx("div",{className:"iaqd4phw h03cr5xd i5cwwymu",children:j.jsx(c("CometCard.react"),{background:"white",dropShadow:1,children:j.jsxs("div",{className:"dati1w0a ihqw7lf3 hv4rvrfc discj3wi",children:[j.jsxs(c("CometColumn.react"),{spacing:20,children:[j.jsx(c("CometColumnItem.react"),{children:j.jsx(c("TetraText.react"),{isPrimaryHeading:!0,type:"headlineEmphasized2",children:h._(/*FBT_CALL*/{"*":"\u0110\u0103ng nh\u1eadp v\u1edbi t\u01b0 c\u00e1ch {name}"}/*FBT_CALL*/,[h._name("name",l.name,l.gender)])})}),j.jsx(c("CometColumnItem.react"),{align:"start",children:j.jsxs(c("CometRow.react"),{paddingHorizontal:0,verticalAlign:"center",children:[j.jsx(c("CometRowItem.react"),{children:j.jsx(c("TetraProfilePhoto.react"),{shape:"circle",size:k,source:{uri:(e=(e=f.user.profile_picture)==null?void 0:e.uri)!=null?e:""}})}),j.jsx(c("CometRowItem.react"),{children:j.jsx(c("CometColumn.react"),{children:j.jsx(c("CometColumnItem.react"),{children:j.jsx(c("TetraTextPairing.react"),{body:l.name,level:2,meta:(e=f.bypass_login_account_switching)==null?void 0:e.contact_point})})})})]})}),j.jsx(c("CometColumnItem.react"),{paddingHorizontal:0,children:j.jsx(c("TetraText.react"),{type:"body2",children:h._(/*FBT_CALL*/{"*":{"*":"{short-name} s\u1ebd \u0111\u01b0\u1ee3c \u0111\u0103ng xu\u1ea5t. Sau \u0111\u00f3, b\u1ea1n c\u00f3 th\u1ec3 \u0111\u0103ng nh\u1eadp v\u1edbi t\u01b0 c\u00e1ch {name} \u0111\u1ec3 xem b\u00e0i vi\u1ebft."}}/*FBT_CALL*/,[h._name("short-name",g.name,g.gender),h._name("name",l.name,l.gender)])})})]}),j.jsx(c("TetraButtonGroup.react"),{align:"end",direction:"backward",paddingHorizontal:0,paddingTop:16,primary:{label:h._(/*FBT_CALL*/"Ti\u1ebfp t\u1ee5c"/*FBT_CALL*/),linkProps:{url:a.nextUri}},secondary:{label:h._(/*FBT_CALL*/"H\u1ee7y"/*FBT_CALL*/),linkProps:{url:f.bypass_login_account_switching.cancel_uri}}})]})})})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("BypassLoginAccountSwitchingRoot.react",["BypassLoginAccountSwitchingRootQuery.graphql","BypassLoginAccountSwitchingView.react","CometContentNotAvailable.react","CometErrorBoundary.react","RelayHooks","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=d("react");function a(a){var e=d("RelayHooks").usePreloadedQuery(h!==void 0?h:h=b("BypassLoginAccountSwitchingRootQuery.graphql"),a.queries.queryRef);return i.jsx(c("CometErrorBoundary.react"),{fallback:function(){return i.jsx(c("CometContentNotAvailable.react"),{})},children:i.jsx(c("BypassLoginAccountSwitchingView.react"),{nextUri:((a=a.props.routeParams)==null?void 0:a.next)||"",query:e})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("LWICometCreativeSectionPlaceholder.react",["BaseGlimmer.react","LWICometPlaceholderCard.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=[1,2,3];function a(a){return h.jsxs(c("LWICometPlaceholderCard.react"),{children:[h.jsx(c("BaseGlimmer.react"),{className:"p0n2ovh4 rgmg9uty",index:1}),h.jsx(c("BaseGlimmer.react"),{className:"qio8uep8 aov4n071 jnigpg78",index:1}),h.jsx(c("BaseGlimmer.react"),{className:"amlvvma6 tr9rh885 qxxlf7xd",index:2}),h.jsx(c("BaseGlimmer.react"),{className:"amlvvma6 tr9rh885 g0rxq50m",index:3}),i.map(function(a){return h.jsx(c("BaseGlimmer.react"),{className:"amlvvma6 tr9rh885 e5d9fub0",index:a},a)})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("useLWICometYouthAdsClientSideNotice",["LWICometYouthAdsUtils","filterNulls","react","useLWICometAudienceNoticeErrorNotices","useLWILoggerContext","useLWINoticesContext"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useEffect;function a(a){var b=c("useLWINoticesContext")(),e=b.setNoticesForSpecElement;b=c("useLWILoggerContext")();b=b.boostishID;var f=b==null&&d("LWICometYouthAdsUtils").isEligibleForYouthAdsWithAdvancedOption(a);h(function(){var a=d("useLWICometAudienceNoticeErrorNotices").getYouthTargetingErrorNotice(f);a=c("filterNulls")([a]);e("TARGETING",a);return function(){e("TARGETING",[])}},[e,f])}g["default"]=a}),98);
__d("MAWBridgeAbPropsUpdatedHandler.bs",["MAWAbPropsClient.bs"],(function(a,b,c,d,e,f){"use strict";function a(a){b("MAWAbPropsClient.bs").rewrite(a);return window.Promise.resolve(void 0)}f.call=a}),null);
__d("MAWBridgeCallFinishAddDeviceHandler.bs",["LS.bs","LSDict","LSFinishAddPeerDevice","LSVec.bs","MWChatQRCodeEventEmitter","MessengerWebInitData","bs_caml_format"],(function(a,b,c,d,e,f){"use strict";function g(a,c){return b("LSFinishAddPeerDevice")(b("LSDict").fromObject({backup_id:b("bs_caml_format").caml_int64_of_string(c.backupId),server_data_id:b("bs_caml_format").caml_int64_of_string(c.serverDataId),temp_ocmf_client_state:c.tempOcmfClientState,mailbox_root_key:c.mailboxRootKey,oblivious_validation_token:c.obliviousValidationToken,add_peer_epoch_data:b("LSVec.bs").make(c.epoch.map(function(a){return b("LSDict").fromObject({epoch_id:b("bs_caml_format").caml_int64_of_string(a.epoch_id),epoch_anon_id:a.epoch_anon_id,epoch_root_key:a.epoch_root_key,epoch_status:b("bs_caml_format").caml_int64_of_string(a.epoch_status)})}))}),b("MessengerWebInitData").sessionId,b("LS.bs").make(a))}function a(a,c){return g(a,c).then(function(a){b("MWChatQRCodeEventEmitter").emit()})}f.sprocCall=g;f.call=a}),null);
__d("MAWBridgeClockSkewUpdatedHandler.bs",["WATimeUtils"],(function(a,b,c,d,e,f){"use strict";function a(a,c){b("WATimeUtils").setClockSkew(c);return window.Promise.resolve(void 0)}f.call=a}),null);
__d("MAWBridgeDeleteMessagesHandler.bs",["MAWThreadId.bs","MAWTimeUtils.bs","Promise","ReQLTable"],(function(a,b,c,d,e,f){"use strict";function a(a,c){return b("MAWThreadId.bs").toThreadKey(a,c.threadId).then(function(d){var e=c.messages.map(function(c){return b("ReQLTable").table(a,"messages")["delete"]({hd:d,tl:{hd:b("MAWTimeUtils.bs").toTimestamp(c.ts),tl:{hd:c.msgId,tl:0}}})});return b("Promise").all(e).then(function(a){})})}f.call=a}),null);
__d("MAWBridgeDeleteReactionHandler.bs",["MAWThreadId.bs","ReQLTable","bs_caml_format"],(function(a,b,c,d,e,f){"use strict";function g(a,c){return b("MAWThreadId.bs").toThreadKey(a,c.threadId).then(function(d){return b("ReQLTable").table(a,"reactions")["delete"]({hd:d,tl:{hd:c.messageId,tl:{hd:b("bs_caml_format").caml_int64_of_string(c.actorId),tl:0}}})})}function a(a,b){return g(a,b).then(function(a){})}f.call=a}),null);
__d("MAWBridgeGroupInfoUpdatedHandler.bs",["MAWThreadId.bs","Promise","ReQL.bs","ReQLTable","bs_caml_obj","bs_caml_option","recoverableViolation"],(function(a,b,c,d,e,f){"use strict";function g(a,c){return b("MAWThreadId.bs").toThreadKey(a,c.threadId).then(function(d){var e=c.threadName,f=e==null?void 0:b("bs_caml_option").some(e);return b("ReQL.bs").first(b("ReQL.bs").getKeyRange(b("ReQLTable").table(a,"threads").asc,{hd:d,tl:0})).then(function(c){if(c!==void 0){c=b("bs_caml_obj").caml_obj_dup(c);return b("ReQLTable").table(a,"threads").put((c.threadName=f,c))}b("recoverableViolation")("Trying to update group thread name with non-existing group thread","messenger_e2ee_web");return b("Promise").resolve(void 0)})})}function a(a,b){return g(a,b).then(function(a){})}f.call=a}),null);
__d("MAWBridgeInitSyncCompleteHandler.bs",["CurrentLocale","LSDict","LSJson","LSLogHistory.bs","LSSyncChannel.bs","LSSyncStatus.bs","MAWInitSyncComplete.bs","Promise","ReQLTable","bs_caml_int64"],(function(a,b,c,d,e,f){"use strict";function a(a){var c;b("LSLogHistory.bs").log("Init Sync Complete","debug");return window.Promise.all([b("ReQLTable").table(a,"sync_groups").add({groupId:b("MAWInitSyncComplete.bs").id,currentCursor:void 0,syncStatus:b("LSSyncStatus.bs").complete,syncParams:b("LSJson").stringify(new(b("LSDict"))([["locale",b("CurrentLocale").get()]])),sendSyncParams:!0,minTimeToSyncTimestampMs:[2328,1316134911],canIgnoreTimestamp:!1,priority:(c=b("bs_caml_int64")).zero,lastSyncRequestTimestampMs:c.zero,regionHint:void 0,lastSyncCompletedTimestampMs:void 0,dataTraceId:void 0,initTraceTimestampMs:void 0,syncChannel:b("LSSyncChannel.bs").mqtt}),b("ReQLTable").table(a,"network_requests").add({taskQueueName:"",syncDatabaseId:b("MAWInitSyncComplete.bs").id,epochId:c.neg_one,networkTaskIdentifier:void 0,lastSentTimestampMs:c.zero,failureCount:c.zero,lastSyncRequestTimestampMs:c.zero,lastDelayedRequestTimestampMs:void 0})]).then(function(a){return b("Promise").resolve(void 0)})}f.call=a}),null);
__d("MAWBridgeMediaExpiredHandler.bs",["MAWThreadId.bs","ReQLTable"],(function(a,b,c,d,e,f){"use strict";function a(a,c){var d=String(c.mediaId);return b("MAWThreadId.bs").toThreadKey(a,c.threadId).then(function(e){return b("ReQLTable").table(a,"attachments")["delete"]({hd:e,tl:{hd:c.msgId,tl:{hd:d,tl:0}}})})}f.call=a}),null);
__d("MAWEphemeralMessageExpirationStorage.bs",["MAWBridgeDeleteMessagesHandler.bs","bs_belt_Array","clearTimeout","promiseDone","setTimeout"],(function(a,b,c,d,e,f){"use strict";var g=new Map();function h(a,c,d){b("bs_belt_Array").forEach(c,function(c){var d=c.ts,e=c.chatId,f=c.msgId;d={ts:d,threadId:e,msgId:f};e=c.chatId;f=[d];c={threadId:e,messages:f};b("promiseDone")(b("MAWBridgeDeleteMessagesHandler.bs").call(a,c),void 0,void 0)});return g["delete"](d)}function i(a,c,d,e){return b("setTimeout")(function(b){h(a,c,d)},e)}function a(a,c,d,e){var f=g.get(d);c=f==null?[c]:(b("clearTimeout")(f.timeoutId),f.msgs.map(function(a){return a.msgId}).indexOf(c.msgId)===-1?(f.msgs.push(c),void 0):void 0,f.msgs);f=i(a,c,d,e);g.set(d,{expirationTs:d,msgs:c,timeoutId:f})}function c(a){var b=a.msgId;a=g.get(a.countdownTs);if(a==null)return;b=a.msgs.map(function(a){return a.msgId}).indexOf(b);if(b>-1){a.msgs.splice(b,1);return}}f.setMessageForExpiration=a;f.clearMessageFromExpiration=c}),null);
__d("MAWBridgeMsgClearCountdownHandler.bs",["MAWEphemeralMessageExpirationStorage.bs","Promise"],(function(a,b,c,d,e,f){"use strict";function a(a){b("MAWEphemeralMessageExpirationStorage.bs").clearMessageFromExpiration(a);return b("Promise").resolve(void 0)}f.call=a}),null);
__d("LSMessageUnsendabilityStatus.bs",["bs_caml_int64"],(function(a,b,c,d,e,f){"use strict";a=b("bs_caml_int64").zero;c=b("bs_caml_int64").one;d=[0,2];e=[0,3];b=[0,4];var g=[0,5],h=[0,6],i=[0,7];f.canUnsend=a;f.denyLogMessage=c;f.denyTombstoneMessage=d;f.denyForNonSender=e;f.denyP2pPayment=b;f.denyStoryReaction=g;f.denyBlobAttachment=h;f.denyMessageNotFound=i}),null);
__d("MAWMsgReply.bs",["fbt","LSMessageReplySourceType.bs","LSMessageReplySourceTypeV2.bs","LSReplyMessageAttachmentType.bs","LSReplyMessageStatus.bs","MAWMedia.bs","Promise","ReQL.bs","ReQLTable","bs_belt_Option","bs_caml_array","bs_caml_format","bs_caml_int64","bs_caml_option","bs_int64"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return!b("bs_belt_Option").isNone(a.replySourceId)}function c(a){a=a.replyToUserId;if(a!==void 0)return b("bs_caml_format").caml_int64_of_string(b("bs_caml_option").valFromOption(a))}function d(a){if(a.isForwarded)return b("LSMessageReplySourceTypeV2.bs").forward;else if(!b("bs_belt_Option").isNone(a.replySourceId))return b("LSMessageReplySourceTypeV2.bs").message;else return}function e(a){if(!b("bs_belt_Option").isNone(a.replySourceId))return b("LSMessageReplySourceType.bs").message}function h(a){if(!b("bs_belt_Option").isNone(a.replySourceId))return a.replySourceId}function i(a){if(!b("bs_belt_Option").isNone(a.replySourceId))return a.replyMessageText}function j(a){a=a.replyStatusType;if(a===void 0)return;switch(a){case"EphemeralScreenshotAction":case"EphemeralSettingAdmin":case"EphemeralSettingChangeFromCurrentDevice":case"EphemeralSyncResponse":return b("LSReplyMessageStatus.bs").unknown;case"ExpiredEphemeral":return b("LSReplyMessageStatus.bs").expired;case"DeleteForMe":case"Revoked":return b("LSReplyMessageStatus.bs").deleted;case"Ciphertext":case"Futureproof":case"Unavailable":return b("LSReplyMessageStatus.bs").temporaryUnavailable;case"Admin":case"Gif":case"Image":case"Ptt":case"Sticker":case"Text":case"Video":return b("LSReplyMessageStatus.bs").valid;default:return}}function k(a){if(b("bs_belt_Option").isNone(a.replySourceId))return!1;else return b("bs_belt_Option").isSome(a.replyMediaUrlMimeType)}function l(a){if(k(a))return a.replyMediaUrlMimeType}function m(a){if(k(a))return b("bs_belt_Option").map(a.replyMediaPreviewHeight,b("bs_caml_int64").of_int32)}function n(a){if(k(a))return b("bs_belt_Option").map(a.replyMediaPreviewWidth,b("bs_caml_int64").of_int32)}function o(a){var c=k(a);a=a.replyStatusType;if(!c)return;if(a===void 0)return;switch(a){case"Gif":return b("LSReplyMessageAttachmentType.bs").gif;case"Image":return b("LSReplyMessageAttachmentType.bs").photo;case"Ptt":return b("LSReplyMessageAttachmentType.bs").other;case"Sticker":return b("LSReplyMessageAttachmentType.bs").sticker;case"Video":return b("LSReplyMessageAttachmentType.bs").video;default:return}}function p(a){var c=k(a);if(c)return b("bs_belt_Option").map(a.replyMediaId,b("MAWMedia.bs").mediaIdToIntExn)}function q(a,c,d){if(b("bs_belt_Option").isNone(d.replySourceId))return b("Promise").resolve(void 0);var e=function(a){if(a.length>0)return a},f=b("bs_belt_Option").getExn(d.replyToUserId)===d.sender;c=b("bs_caml_format").caml_int64_of_string(b("bs_belt_Option").getExn(d.replyToUserId));var h=b("bs_caml_format").caml_int64_of_string(d.sender);return b("Promise").all([b("ReQL.bs").first(b("ReQL.bs").getKeyRange(b("ReQLTable").table(a,"contacts").asc,{hd:c,tl:0})),b("ReQL.bs").first(b("ReQL.bs").getKeyRange(b("ReQLTable").table(a,"contacts").asc,{hd:h,tl:0}))]).then(function(a){var c=b("bs_belt_Option").flatMap(b("bs_caml_array").get(a,0),function(a){return e(a.name)});a=b("bs_belt_Option").flatMap(b("bs_caml_array").get(a,1),function(a){return e(a.name)});var h=function(a){return b("bs_belt_Option").eq(j(d),a,function(a,c){return b("bs_int64").compare(a,c)===0})};h=h(b("LSReplyMessageStatus.bs").deleted)||h(b("LSReplyMessageStatus.bs").temporaryUnavailable)||h(b("LSReplyMessageStatus.bs").expired);var i=d.isAuthorMe,k=d.replySenderIsMe;if(h){if(i)return g._(/*FBT_CALL*/"B\u1ea1n \u0111\u00e3 tr\u1ea3 l\u1eddi m\u1ed9t tin nh\u1eafn b\u1ecb g\u1ee1"/*FBT_CALL*/).toString();if(a!==void 0)return g._(/*FBT_CALL*/"{name} \u0111\u00e3 tr\u1ea3 l\u1eddi m\u1ed9t tin nh\u1eafn b\u1ecb g\u1ee1"/*FBT_CALL*/,[g._param("name",a)]).toString()}else if(i){if(k!==void 0){if(k)return g._(/*FBT_CALL*/"B\u1ea1n \u0111\u00e3 tr\u1ea3 l\u1eddi ch\u00ednh m\u00ecnh"/*FBT_CALL*/).toString();if(!f&&c!==void 0)return g._(/*FBT_CALL*/"B\u1ea1n \u0111\u00e3 tr\u1ea3 l\u1eddi {other_name}"/*FBT_CALL*/,[g._param("other_name",c)]).toString()}}else if(k!==void 0)if(k){if(!f&&a!==void 0)return g._(/*FBT_CALL*/"{other_name} \u0111\u00e3 tr\u1ea3 l\u1eddi b\u1ea1n"/*FBT_CALL*/,[g._param("other_name",a)]).toString()}else if(f){if(a!==void 0)return g._(/*FBT_CALL*/"{other} replied to themselves"/*FBT_CALL*/,[g._param("other",a)]).toString()}else if(c!==void 0&&a!==void 0)return g._(/*FBT_CALL*/"{other} \u0111\u00e3 tr\u1ea3 l\u1eddi {other_name}"/*FBT_CALL*/,[g._param("other",a),g._param("other_name",c)]).toString();if(c!==void 0)if(a!==void 0)return g._(/*FBT_CALL*/"Ai \u0111\u00f3 \u0111\u00e3 tr\u1ea3 l\u1eddi ng\u01b0\u1eddi tham gia"/*FBT_CALL*/).toString();else return g._(/*FBT_CALL*/"Ai \u0111\u00f3 \u0111\u00e3 tr\u1ea3 l\u1eddi {name}"/*FBT_CALL*/,[g._param("name",c)]).toString();else if(a!==void 0)return g._(/*FBT_CALL*/"{name} \u0111\u00e3 tr\u1ea3 l\u1eddi m\u1ed9t ng\u01b0\u1eddi tham gia"/*FBT_CALL*/,[g._param("name",a)]).toString();else return g._(/*FBT_CALL*/"Ai \u0111\u00f3 \u0111\u00e3 tr\u1ea3 l\u1eddi ng\u01b0\u1eddi tham gia"/*FBT_CALL*/).toString()})}f.hasReply=a;f.getReplyUserId=c;f.getReplySourceTypeV2=d;f.getReplySourceType=e;f.getReplySourceId=h;f.getReplyMessageText=i;f.getReplyStatus=j;f.hasReplyMedia=k;f.getReplyMediaMimeType=l;f.getReplyMediaHeight=m;f.getReplyMediaWidth=n;f.getReplyAttachmentType=o;f.getReplyAttachmentId=p;f.getReplySnippet=q}),null);
__d("MAWBridgeMsgUpdatedHandler.bs",["LSMessageUnsendabilityStatus.bs","MAWAckLevel.bs","MAWMsg.bs","MAWMsgReply.bs","MAWThreadId.bs","MAWTimeUtils.bs","MWV2DualSendMessageContent.bs","Promise","ReQL.bs","ReQLTable","bs_belt_Option","bs_caml_obj"],(function(a,b,c,d,e,f){"use strict";function a(a,c){return b("MAWThreadId.bs").toThreadKey(a,c.chatId).then(function(d){return b("MAWMsgReply.bs").getReplySnippet(a,d,c).then(function(a){return[a,d]})}).then(function(d){var e=d[1],f=d[0],g=c.type_===b("MAWMsg.bs").unsent;return b("ReQL.bs").first(b("ReQL.bs").filter(b("ReQL.bs").getKeyRange(b("ReQLTable").table(a,"messages").asc,{hd:e,tl:0}),function(a){return a.messageId===c.msgId})).then(function(d){if(d===void 0)return b("Promise").resolve(void 0);if(b("MWV2DualSendMessageContent.bs").isDualSend(c.content))return b("Promise").resolve(void 0);var e=b("MAWAckLevel.bs").levelToMessagingSendStatusV2(c.ack);d=b("bs_caml_obj").caml_obj_dup(d);return b("ReQLTable").table(a,"messages").put((d.replySourceTimestampMs=void 0,d.unsentTimestampMs=g?b("MAWTimeUtils.bs").toTimestamp(c.ts):void 0,d.displayedContentTypes=b("MAWMsg.bs").getDisplayedContentTypes(c.type_,c.isForwarded),d.cannotUnsendReason=g||!c.isAuthorMe?b("LSMessageUnsendabilityStatus.bs").denyForNonSender:void 0,d.replyAttachmentExtra=void 0,d.replyAttachmentId=b("MAWMsgReply.bs").getReplyAttachmentId(c),d.replyAttachmentType=b("MAWMsgReply.bs").getReplyAttachmentType(c),d.replyMediaUrlMimeType=b("MAWMsgReply.bs").getReplyMediaMimeType(c),d.replyMediaPreviewHeight=b("MAWMsgReply.bs").getReplyMediaHeight(c),d.replyMediaPreviewWidth=b("MAWMsgReply.bs").getReplyMediaWidth(c),d.replyMediaUrl=void 0,d.replyMediaExpirationTimestampMs=void 0,d.replyToUserId=b("MAWMsgReply.bs").getReplyUserId(c),d.replyMessageText=b("MAWMsgReply.bs").getReplyMessageText(c),d.replySnippet=f,d.replyStatus=b("MAWMsgReply.bs").getReplyStatus(c),d.replySourceTypeV2=b("MAWMsgReply.bs").getReplySourceTypeV2(c),d.replySourceType=b("MAWMsgReply.bs").getReplySourceType(c),d.replySourceId=b("MAWMsgReply.bs").getReplySourceId(c),d.isUnsent=g,d.sendStatusV2=e,d.sendStatus=b("MAWAckLevel.bs").levelToMessagingSendStatus(c.ack),d.text=c.content,d.timestampMs=b("MAWTimeUtils.bs").toTimestamp(g?b("bs_belt_Option").getWithDefault(c.originalTs,c.ts):c.ts),d))})})}f.call=a}),null);
__d("MAWBridgeMsgsLoadedHandler.bs",["LS.bs","LSInsertNewMessageRange","MAWThreadId.bs","bs_caml_int64"],(function(a,b,c,d,e,f){"use strict";function a(a,c){return b("MAWThreadId.bs").toThreadKey(a,c.threadId).then(function(d){var e=c.rangeExtensionType,f;if(typeof e==="number")f=b("bs_caml_int64").zero;else switch(e.TAG|0){case 0:case 1:f=b("bs_caml_int64").of_float(e._0.minMsgTs);break;case 2:f=b("bs_caml_int64").zero;break}e=c.rangeExtensionType;e=typeof e==="number"?[2328,1316134911]:e.TAG===2?b("bs_caml_int64").of_float(e._0.maxMsgTs):[2328,1316134911];var g=c.rangeExtensionType,h;if(typeof g==="number")h="";else switch(g.TAG|0){case 0:case 1:h=g._0.minMsgId;break;case 2:h="";break}g=c.rangeExtensionType;var i;if(typeof g==="number")i="";else switch(g.TAG|0){case 0:i=g._0.maxMsgId;break;case 1:i="";break;case 2:i=g._0.maxMsgId;break}g=c.rangeExtensionType;var j;if(typeof g==="number")j=b("bs_caml_int64").zero;else switch(g.TAG|0){case 0:case 1:j=b("bs_caml_int64").of_float(g._0.minMsgTs);break;case 2:j=b("bs_caml_int64").zero;break}g=c.rangeExtensionType;g=typeof g==="number"?[2328,1316134911]:g.TAG===2?b("bs_caml_int64").of_float(g._0.maxMsgTs):[2328,1316134911];var k=c.rangeExtensionType,l;if(typeof k==="number")l=!1;else switch(k.TAG|0){case 0:l=k._0.hasMoreBefore;break;case 1:l=k._0.hasMoreBefore;break;case 2:l=!1;break}k=c.rangeExtensionType;k=typeof k==="number"||k.TAG!==2?!1:k._0.hasMoreAfter;return b("LSInsertNewMessageRange")(d,f,e,h,i,j,g,l,k,void 0,b("LS.bs").make(a))})}f.call=a}),null);
__d("MAWBridgeMsgsStartCountdownHandler.bs",["MAWEphemeralMessageExpirationStorage.bs","MAWThreadId.bs","MAWTimeUtils.bs","Promise","ReQL.bs","ReQLTable","bs_caml_int64","bs_caml_obj"],(function(a,b,c,d,e,f){"use strict";function a(a,c){return c.msgs.reduce(function(c,d){return c.then(function(c){b("MAWEphemeralMessageExpirationStorage.bs").setMessageForExpiration(a,d,d.countdownTs,d.millisecondsUntilCountdownTs);b("bs_caml_int64").of_int32(d.millisecondsUntilCountdownTs);return b("MAWThreadId.bs").toThreadKey(a,d.chatId).then(function(c){return b("ReQL.bs").first(b("ReQL.bs").getKeyRange(b("ReQLTable").table(a,"messages").asc,{hd:c,tl:{hd:b("MAWTimeUtils.bs").toTimestamp(d.ts),tl:{hd:d.msgId,tl:0}}})).then(function(c){if(c===void 0)return b("Promise").resolve(void 0);c=b("bs_caml_obj").caml_obj_dup(c);return b("ReQLTable").table(a,"messages").put((c.ephemeralExpirationTs=b("bs_caml_int64").of_float(d.countdownTs),c))})})})},b("Promise").resolve(void 0))}f.call=a}),null);
__d("MAWBridgeNewMediaHandler.bs",["MAWDbMsg","MAWMedia.bs","MAWThreadId.bs","Promise","ReQLTable","ReQLTable.bs","bs_belt_Option","bs_caml_int64","bs_caml_obj","bs_caml_option"],(function(a,b,c,d,e,f){"use strict";function g(a,c){return b("MAWThreadId.bs").toThreadKey(a,c.threadId).then(function(d){var e=String(c.mediaId);return c.msgIds.reduce(function(f,g){return f.then(function(f){var h=b("bs_caml_int64").of_int32(b("MAWDbMsg").getInChatMsgIdFromMsgId(g));return b("ReQLTable.bs").update(b("ReQLTable").table(a,"attachments"),{hd:d,tl:{hd:g,tl:{hd:e,tl:0}}},function(a){if(a===void 0){var f,i,j;return{threadKey:d,timestampMs:h,messageId:g,offlineAttachmentId:e,attachmentFbid:e,attachmentType:b("MAWMedia.bs").mediaTypeToMessageAttachmentType(c.mediaType),originalPageSenderId:void 0,filename:void 0,filesize:(f=b("bs_belt_Option")).map(c.filesize,(i=b("bs_caml_int64")).of_int32),hasMedia:c.hasMedia,isSharable:!1,hasXma:!1,xmaLayoutType:void 0,xmasTemplateType:void 0,defaultCtaId:void 0,defaultCtaTitle:void 0,defaultCtaType:void 0,attachmentCta1Id:void 0,cta1Title:void 0,cta1Type:void 0,attachmentCta2Id:void 0,cta2Title:void 0,cta2Type:void 0,attachmentCta3Id:void 0,cta3Title:void 0,cta3Type:void 0,playableUrl:void 0,playableUrlFallback:void 0,playableUrlExpirationTimestampMs:void 0,playableUrlMimeType:void 0,dashManifest:void 0,previewUrl:void 0,previewUrlFallback:void 0,previewUrlExpirationTimestampMs:void 0,previewUrlMimeType:void 0,miniPreview:void 0,previewWidth:f.map((j=b("bs_caml_option")).nullable_to_opt(c.previewWidth),i.of_int32),previewHeight:f.map(j.nullable_to_opt(c.previewHeight),i.of_int32),imageUrl:void 0,imageUrlFallback:void 0,imageUrlExpirationTimestampMs:void 0,imageUrlMimeType:void 0,actionUrl:void 0,titleText:void 0,subtitleText:void 0,maxTitleNumOfLines:void 0,maxSubtitleNumOfLines:void 0,descriptionText:void 0,sourceText:void 0,attributionAppId:void 0,attributionAppName:void 0,attributionAppIcon:void 0,attributionAppIconFallback:void 0,attributionAppIconUrlExpirationTimestampMs:void 0,localPlayableUrl:void 0,playableDurationMs:f.map(j.nullable_to_opt(c.duration),i.of_int32),attachmentIndex:i.zero,faviconUrl:void 0,faviconUrlFallback:void 0,faviconUrlExpirationTimestampMs:void 0,decryptionKey:void 0,accessibilitySummaryText:void 0,isPreviewImage:void 0,listItemsId:void 0,listItemsDescriptionText:void 0,listItemsSecondaryDescriptionText:void 0,listItemId1:void 0,listItemTitleText1:void 0,listItemContactUrlList1:void 0,listItemProgressBarFilledPercentage1:void 0,listItemContactUrlExpirationTimestampList1:void 0,listItemContactUrlFallbackList1:void 0,listItemAccessibilityText1:void 0,listItemId2:void 0,listItemTitleText2:void 0,listItemContactUrlList2:void 0,listItemProgressBarFilledPercentage2:void 0,listItemContactUrlExpirationTimestampList2:void 0,listItemContactUrlFallbackList2:void 0,listItemAccessibilityText2:void 0,listItemId3:void 0,listItemTitleText3:void 0,listItemContactUrlList3:void 0,listItemProgressBarFilledPercentage3:void 0,listItemContactUrlExpirationTimestampList3:void 0,listItemContactUrlFallbackList3:void 0,listItemAccessibilityText3:void 0,originalFileHash:void 0,isBorderless:void 0,headerImageUrl:void 0,headerImageUrlFallback:void 0,headerImageUrlExpirationTimestampMs:void 0,headerImageUrlMimeType:void 0,headerTitle:void 0,previewImageDecorationType:void 0,shouldHighlightHeaderTitleInTitle:void 0,targetId:void 0,shouldRespectServerPreviewSize:void 0,authorityLevel:i.zero,ephemeralMediaState:void 0,viewerSeenTimestampMs:void 0,shouldAutoplayVideo:void 0,previewUrlLarge:void 0,previewWidthLarge:f.map(j.nullable_to_opt(c.previewWidthLarge),i.of_int32),previewHeightLarge:f.map(j.nullable_to_opt(c.previewHeightLarge),i.of_int32),subtitleIconUrl:void 0,preheaderText:void 0,listItemsDescriptionSubtitleText:void 0,avatarViewUrlList:void 0,avatarViewUrlExpirationTimestampList:void 0,avatarViewUrlFallbackList:void 0,avatarViewTitleList:void 0,avatarViewAccessibilityLabel:void 0,listItemProfilePictureUrl1:void 0,listItemProfilePictureUrlExpirationTimestamp1:void 0,listItemProfilePictureUrlFallback1:void 0,listItemProfilePictureUrl2:void 0,listItemProfilePictureUrlExpirationTimestamp2:void 0,listItemProfilePictureUrlFallback2:void 0,listItemProfilePictureUrl3:void 0,listItemProfilePictureUrlExpirationTimestamp3:void 0,listItemProfilePictureUrlFallback3:void 0,attachmentLoggingType:void 0}}f=b("bs_caml_obj").caml_obj_dup(a);f.hasMedia=c.hasMedia;return f})})},b("Promise").resolve(void 0))})}function a(a,b){return g(a,b).then(function(a){})}f.call=a}),null);
__d("MAWBridgeNewMediaRangeHandler.bs",["LS.bs","LSThreadMediaGalleryGroup.bs","LSUpsertAttachmentRange","MAWThreadId.bs","bs_caml_int64"],(function(a,b,c,d,e,f){"use strict";function g(a,c){return b("MAWThreadId.bs").toThreadKey(a,c.threadId).then(function(d){var e=b("bs_caml_int64").of_int32(c.minMsgRowId),f=c.hasMoreBefore;return b("LSUpsertAttachmentRange")(d,b("LSThreadMediaGalleryGroup.bs").photosAndVideos,e,f,b("LS.bs").make(a))})}function a(a,b){return g(a,b).then(function(a){})}f.call=a}),null);
__d("MAWBridgeNewMsgHandler.bs",["LSAuthorityLevel.bs","LSMessageUnsendabilityStatus.bs","LSMessageViewFlag.bs","LSQuickReplyType.bs","MAWAckLevel.bs","MAWAdminMsg.bs","MAWAdminMsgCTA.bs","MAWLocalizationType","MAWMsg.bs","MAWMsgReply.bs","MAWThreadId.bs","MAWTimeUtils.bs","MWV2DualSendMessageContent.bs","Promise","ReQL.bs","ReQLTable","bs_belt_Option","bs_caml_format","bs_caml_int64","bs_caml_obj"],(function(a,b,c,d,e,f){"use strict";function g(a,c,d,e,f){e=e!==void 0?[e.ctaId,e.title,e.ctaType]:[void 0,void 0,void 0];if(d.isAdminMessage){var g=d.adminContent,h=d.adminType;g=g!==void 0&&h!==void 0?b("MAWAdminMsg.bs").buildLocalizedString(g,h):void 0}else g=d.content;h=d.ephemeralDurationInSec;return b("ReQLTable").table(a,"messages").add({threadKey:c,timestampMs:b("MAWTimeUtils.bs").toTimestamp(d.type_===b("MAWMsg.bs").unsent?b("bs_belt_Option").getWithDefault(d.originalTs,d.ts):d.ts),primarySortKey:b("bs_caml_int64").of_float(d.sortOrderMs),secondarySortKey:void 0,messageId:d.msgId,offlineThreadingId:d.msgId,text:g,senderId:b("bs_caml_format").caml_int64_of_string(d.sender),stickerId:void 0,isAdminMessage:d.isAdminMessage,sendStatus:b("MAWAckLevel.bs").levelToMessagingSendStatus(d.ack),sendStatusV2:b("MAWAckLevel.bs").levelToMessagingSendStatusV2(d.ack),isUnsent:d.type_===b("MAWMsg.bs").unsent,mentionOffsets:void 0,mentionLengths:void 0,mentionIds:void 0,mentionTypes:void 0,replySourceId:b("MAWMsgReply.bs").getReplySourceId(d),replySourceType:b("MAWMsgReply.bs").getReplySourceType(d),replySourceTypeV2:b("MAWMsgReply.bs").getReplySourceTypeV2(d),replyStatus:b("MAWMsgReply.bs").getReplyStatus(d),replySnippet:f,replyMessageText:b("MAWMsgReply.bs").getReplyMessageText(d),replyToUserId:b("MAWMsgReply.bs").getReplyUserId(d),replyMediaExpirationTimestampMs:void 0,replyMediaUrl:void 0,replyMediaPreviewWidth:b("MAWMsgReply.bs").getReplyMediaWidth(d),replyMediaPreviewHeight:b("MAWMsgReply.bs").getReplyMediaHeight(d),replyMediaUrlMimeType:b("MAWMsgReply.bs").getReplyMediaMimeType(d),replyMediaUrlFallback:void 0,replyCtaId:void 0,replyCtaTitle:void 0,replyAttachmentType:b("MAWMsgReply.bs").getReplyAttachmentType(d),replyAttachmentId:b("MAWMsgReply.bs").getReplyAttachmentId(d),replyAttachmentExtra:void 0,hasQuickReplies:!1,adminMsgCtaId:e[0],adminMsgCtaTitle:e[1],adminMsgCtaType:e[2],cannotUnsendReason:d.type_===b("MAWMsg.bs").unsent||!d.isAuthorMe?b("LSMessageUnsendabilityStatus.bs").denyForNonSender:void 0,textHasLinks:!1,viewFlags:b("LSMessageViewFlag.bs").uncalculated,displayedContentTypes:b("MAWMsg.bs").getDisplayedContentTypes(d.type_,d.isForwarded),viewedPluginKey:void 0,viewedPluginContext:void 0,quickReplyType:b("LSQuickReplyType.bs").none,hotEmojiSize:void 0,authorityLevel:b("LSAuthorityLevel.bs").authoritative,subscriptErrorMessage:void 0,unsentTimestampMs:b("MAWTimeUtils.bs").toTimestamp(d.ts),replySourceTimestampMs:void 0,forwardScore:void 0,ephemeralDurationInSec:h!==void 0?b("bs_caml_int64").of_int32(h):void 0,msUntilExpirationTs:void 0,localDataId:void 0,ephemeralExpirationTs:void 0})}function a(a,c){return b("MAWThreadId.bs").toThreadKey(a,c.chatId).then(function(d){var e=c.adminType;if(e!==void 0&&b("MAWLocalizationType").isEphemeralSettingSetAdminMsg(e))return b("MAWAdminMsgCTA.bs").createAdminMsgCta(a,d,c).then(function(a){return{result:a,threadKey:d}});else return b("Promise").resolve({result:void 0,threadKey:d})}).then(function(d){return b("MAWMsgReply.bs").getReplySnippet(a,d.threadKey,c).then(function(a){return[d,a]})}).then(function(d){var e=d[1];d=d[0];if(b("MWV2DualSendMessageContent.bs").isDualSend(c.content))return b("Promise").resolve(void 0);var f=c.offlineMsg;if(f!==void 0){var h=d.threadKey,i=d.result,j=i!==void 0?[i.ctaId,i.title,i.ctaType]:[void 0,void 0,void 0],k=j[2],l=j[1],m=j[0];return b("ReQL.bs").first(b("ReQL.bs").getKeyRange(b("ReQLTable").table(a,"messages").asc,{hd:h,tl:{hd:b("bs_caml_int64").of_float(f.ts),tl:{hd:f.msgId,tl:0}}})).then(function(d){if(d===void 0)return g(a,h,c,i,e);d=b("bs_caml_obj").caml_obj_dup(d);var f=c.ephemeralDurationInSec;d.ephemeralDurationInSec=f!==void 0?b("bs_caml_int64").of_int32(f):void 0;return b("ReQLTable").table(a,"messages").put((d.replySourceTimestampMs=void 0,d.authorityLevel=b("LSAuthorityLevel.bs").authoritative,d.displayedContentTypes=b("MAWMsg.bs").getDisplayedContentTypes(c.type_,c.isForwarded),d.adminMsgCtaType=k,d.adminMsgCtaTitle=l,d.adminMsgCtaId=m,d.replyAttachmentId=b("MAWMsgReply.bs").getReplyAttachmentId(c),d.replyAttachmentType=b("MAWMsgReply.bs").getReplyAttachmentType(c),d.replyMediaUrlMimeType=b("MAWMsgReply.bs").getReplyMediaMimeType(c),d.replyMediaPreviewHeight=b("MAWMsgReply.bs").getReplyMediaHeight(c),d.replyMediaPreviewWidth=b("MAWMsgReply.bs").getReplyMediaWidth(c),d.replyMediaUrl=void 0,d.replyMediaExpirationTimestampMs=void 0,d.replyToUserId=b("MAWMsgReply.bs").getReplyUserId(c),d.replyMessageText=b("MAWMsgReply.bs").getReplyMessageText(c),d.replySnippet=e,d.replyStatus=b("MAWMsgReply.bs").getReplyStatus(c),d.replySourceTypeV2=b("MAWMsgReply.bs").getReplySourceTypeV2(c),d.replySourceType=b("MAWMsgReply.bs").getReplySourceType(c),d.replySourceId=b("MAWMsgReply.bs").getReplySourceId(c),d.isUnsent=c.type_===b("MAWMsg.bs").unsent,d.sendStatusV2=b("MAWAckLevel.bs").levelToMessagingSendStatusV2(c.ack),d.sendStatus=b("MAWAckLevel.bs").levelToMessagingSendStatus(c.ack),d.messageId=c.msgId,d.primarySortKey=b("bs_caml_int64").of_float(c.sortOrderMs),d.timestampMs=b("MAWTimeUtils.bs").toTimestamp(c.ts),d))})}else return g(a,d.threadKey,c,d.result,e)}).then(function(a){})}f.call=a}),null);
__d("MAWBridgeParticipantRemovedHandler.bs",["MAWThreadId.bs","ReQLTable","bs_caml_format"],(function(a,b,c,d,e,f){"use strict";function a(a,c){return b("MAWThreadId.bs").toThreadKey(a,c.threadId).then(function(d){var e=b("bs_caml_format").caml_int64_of_string(c.fbid);return b("ReQLTable").table(a,"participants")["delete"]({hd:d,tl:{hd:e,tl:0}}).then(function(a){})})}f.call=a}),null);
__d("MAWUpdateLSThreadCapabilities.bs",["LSBitOffset.bs","LSContactBitOffset.bs","LSContactBlockedByViewerStatus.bs","LSContactCapabilityBitOffset.bs","LSMessagingThreadTypeUtil.bs","LSThreadBitOffset.bs","LSThreadCapabilityBitOffset.bs","MAWBlockUtils.bs","MAWCurrentUser","MAWMessengerRestrictUtils.bs","Promise","ReQL.bs","ReQLTable","SortedAsyncIterable.bs","bs_belt_Option","bs_caml","bs_caml_format","bs_caml_obj"],(function(a,b,c,d,e,f){"use strict";e=b("MAWCurrentUser").getID();var g=b("bs_caml_format").caml_int64_of_string(e);function a(a,c){return b("ReQL.bs").first(b("ReQL.bs").getKeyRange(b("ReQLTable").table(a,"threads").asc,{hd:c,tl:0})).then(function(c){if(c===void 0)return b("Promise").resolve(void 0);var d=b("LSBitOffset.bs").set(b("LSThreadCapabilityBitOffset.bs").addMember,c.capabilities);c=b("bs_caml_obj").caml_obj_dup(c);return b("ReQLTable").table(a,"threads").put((c.capabilities=d,c))}).then(function(a){})}function c(a,c){return b("ReQL.bs").first(b("ReQL.bs").getKeyRange(b("ReQLTable").table(a,"threads").asc,{hd:c,tl:0})).then(function(c){if(c===void 0)return b("Promise").resolve(void 0);var d=b("LSBitOffset.bs").clear(b("LSThreadCapabilityBitOffset.bs").addMember,c.capabilities);c=b("bs_caml_obj").caml_obj_dup(c);return b("ReQLTable").table(a,"threads").put((c.capabilities=d,c))}).then(function(a){})}function d(a,c){return b("ReQL.bs").first(b("ReQL.bs").getKeyRange(b("ReQLTable").table(a,"threads").asc,{hd:c,tl:0})).then(function(d){if(d===void 0)return b("Promise").resolve([void 0,void 0]);var e=b("ReQL.bs").first(b("LSMessagingThreadTypeUtil.bs").isOneToOne(d.threadType)?b("ReQL.bs").map(b("ReQL.bs").filter(b("ReQL.bs").mergeJoin(b("ReQL.bs").getKeyRange(b("ReQLTable").table(a,"participants").asc,{hd:c,tl:0}),b("ReQLTable").table(a,"contacts").asc),function(a){return b("bs_caml").i64_neq(a[1].id,g)}),function(a){return a[1]}):b("SortedAsyncIterable.bs").empty(void 0));return b("Promise").all([b("Promise").resolve(d),e])}).then(function(c){var d=c[0];if(d===void 0)return b("Promise").resolve(void 0);c=c[1];if(c===void 0)return b("Promise").resolve(void 0);var e=b("bs_caml").i64_eq(c.blockedByViewerStatus,b("LSContactBlockedByViewerStatus.bs").messageBlocked),f=b("bs_caml").i64_eq(c.blockedByViewerStatus,b("LSContactBlockedByViewerStatus.bs").fullyBlocked);c=b("bs_belt_Option").getWithDefault(b("LSContactBitOffset.bs").has(b("LSContactCapabilityBitOffset.bs").restrictPlaced,c),!1);f=f?b("LSThreadBitOffset.bs").clear(b("MAWBlockUtils.bs").clearedFbBlockCapabilities,d.capabilities,d.capabilities2):e?b("LSThreadBitOffset.bs").clear(b("MAWBlockUtils.bs").clearedMnBlockCapabilities,d.capabilities,d.capabilities2):c?b("LSThreadBitOffset.bs").clear(b("MAWMessengerRestrictUtils.bs").clearedMnRestrictCapabilities,d.capabilities,d.capabilities2):[d.capabilities,d.capabilities2];e=b("bs_caml_obj").caml_obj_dup(d);return b("ReQLTable").table(a,"threads").put((e.capabilities2=f[1],e.capabilities=f[0],e)).then(function(a){})})}f.currentUserId=e;f.currentUserIdAsInt64=g;f.enableAddMembersTxn=a;f.disableAddMembersTxn=c;f.disableBlockerCapabilitiesTxn=d}),null);
__d("MAWBridgeParticipantUpdatedHandler.bs",["fbt","LS.bs","LSAuthorityLevel.bs","LSContactBlockedByViewerStatus.bs","LSContactGender.bs","LSContactIdType.bs","LSContactType.bs","LSContactViewerRelationship.bs","LSContactWorkForeignEntityType.bs","LSGroupParticipantJoinState.bs","LSVerifyContactRowExists","MAWCurrentUser","MAWThreadId.bs","MAWTimeUtils.bs","MAWUpdateLSThreadCapabilities.bs","Promise","ReQLTable","ReQLTable.bs","bs_caml","bs_caml_format","bs_caml_int64","bs_caml_obj"],(function(a,b,c,d,e,f,g){"use strict";var h=b("MAWCurrentUser").getID(),i=b("bs_caml_format").caml_int64_of_string(h);function a(a,c){return b("MAWThreadId.bs").toThreadKey(a,c.threadId).then(function(d){var e=b("bs_caml_format").caml_int64_of_string(c.fbid),f=b("MAWTimeUtils.bs").toTimestamp(c.readWatermarkTs),j=b("MAWTimeUtils.bs").toTimestamp(c.deliveredWatermarkTs),k=b("MAWTimeUtils.bs").toTimestamp(c.lastReadActionTs),l=c.isSuperAdmin?g._(/*FBT_CALL*/"Ng\u01b0\u1eddi t\u1ea1o nh\u00f3m"/*FBT_CALL*/).toString():void 0,m={contents:!1},n={contents:!1};return b("ReQLTable.bs").update(b("ReQLTable").table(a,"participants"),{hd:d,tl:{hd:e,tl:0}},function(a){if(a!==void 0){n.contents=!0;return{threadKey:d,contactId:e,readWatermarkTimestampMs:f,deliveredWatermarkTimestampMs:j,nickname:a.nickname,isAdmin:c.isAdmin,subscribeSource:l,normalizedSearchTerms:a.normalizedSearchTerms,participantCapabilities:a.participantCapabilities,authorityLevel:a.authorityLevel,readActionTimestampMs:k,isSuperAdmin:a.isSuperAdmin,isModerator:!1,groupParticipantJoinState:a.groupParticipantJoinState}}else{n.contents=!0;m.contents=!0;return{threadKey:d,contactId:e,readWatermarkTimestampMs:f,deliveredWatermarkTimestampMs:j,nickname:void 0,isAdmin:c.isAdmin,subscribeSource:l,normalizedSearchTerms:void 0,participantCapabilities:void 0,authorityLevel:b("bs_caml_int64").zero,readActionTimestampMs:b("bs_caml_int64").zero,isSuperAdmin:c.isSuperAdmin,isModerator:!1,groupParticipantJoinState:b("LSGroupParticipantJoinState.bs").member}}}).then(function(f){if(n.contents)return b("MAWUpdateLSThreadCapabilities.bs").disableBlockerCapabilitiesTxn(a,d).then(function(f){f=b("bs_caml").i64_eq(i,e);var g=c.isAdmin;if(f)if(g)return b("MAWUpdateLSThreadCapabilities.bs").enableAddMembersTxn(a,d);else return b("MAWUpdateLSThreadCapabilities.bs").disableAddMembersTxn(a,d);else return window.Promise.resolve(void 0)});else return b("Promise").resolve(void 0)}).then(function(d){if(m.contents)return b("LSVerifyContactRowExists")(e,b("LSContactIdType.bs").fbid,void 0,void 0,b("LSContactType.bs").user,void 0,void 0,void 0,void 0,!1,!1,b("LSContactBlockedByViewerStatus.bs").unblocked,void 0,b("bs_caml_obj").caml_equal(h,c.fbid),b("LSAuthorityLevel.bs").optimistic,void 0,void 0,b("LSContactWorkForeignEntityType.bs").unknown,b("LSContactGender.bs").unknown,b("LSContactViewerRelationship.bs").unknown,void 0,b("LS.bs").make(a));else return b("Promise").resolve(void 0)})})}f.currentUserId=h;f.currentUserIdAsInt64=i;f.call=a}),null);
__d("MAWBridgeReactionUpsertHandler.bs",["LSAuthorityLevel.bs","MAWThreadId.bs","MAWTimeUtils.bs","ReQLTable","bs_caml_format"],(function(a,b,c,d,e,f){"use strict";function g(a,c){return b("MAWThreadId.bs").toThreadKey(a,c.threadId).then(function(d){return b("ReQLTable").table(a,"reactions").upsert({hd:d,tl:{hd:c.messageId,tl:{hd:b("bs_caml_format").caml_int64_of_string(c.actorId),tl:0}}},{threadKey:d,timestampMs:b("MAWTimeUtils.bs").toTimestamp(c.ts),messageId:c.messageId,actorId:b("bs_caml_format").caml_int64_of_string(c.actorId),reaction:c.reaction,authorityLevel:b("LSAuthorityLevel.bs").authoritative})})}function a(a,b){return g(a,b).then(function(a){})}f.call=a}),null);
__d("MAWBridgeReceivedChatStateHandler.bs",["MAWThreadId.bs","ReQLTable","ServerTime","WAChatState","bs_caml_format","bs_caml_int64"],(function(a,b,c,d,e,f){"use strict";function a(a,c){return b("MAWThreadId.bs").toThreadKey(a,c.threadId).then(function(d){var e=b("bs_caml_format").caml_int64_of_string(c.senderId),f=b("bs_caml_int64").of_float(3e3+b("ServerTime").getMillis());if(c.state===b("WAChatState").TYPING)return b("ReQLTable").table(a,"typing_indicator").upsert({hd:d,tl:{hd:e,tl:0}},{threadKey:d,senderId:e,expirationTimestampMs:f}).then(function(a){});else if(c.state===b("WAChatState").IDLE)return b("ReQLTable").table(a,"typing_indicator")["delete"]({hd:d,tl:{hd:e,tl:0}}).then(function(a){});else return window.Promise.resolve(void 0)})}f.call=a}),null);
__d("MAWBridgeReceivedReceiptHandler.bs",["MAWThreadId.bs","MAWTimeUtils.bs","Promise","ReQL.bs","ReQLTable","bs_caml_format"],(function(a,b,c,d,e,f){"use strict";function a(a,c){return b("MAWThreadId.bs").toThreadKey(a,c.threadId).then(function(d){var e=b("bs_caml_format").caml_int64_of_string(c.fbid),f=b("MAWTimeUtils.bs").toTimestamp(c.lastReadWatermarkTs),g=b("MAWTimeUtils.bs").toTimestamp(c.deliveredWatermarkTs),h=b("MAWTimeUtils.bs").toTimestamp(c.lastReadActionTs);return b("ReQL.bs").first(b("ReQL.bs").getKeyRange(b("ReQLTable").table(a,"participants").asc,{hd:d,tl:{hd:e,tl:0}})).then(function(c){if(c!==void 0)return b("ReQLTable").table(a,"participants").put({threadKey:c.threadKey,contactId:c.contactId,readWatermarkTimestampMs:f,deliveredWatermarkTimestampMs:g,nickname:c.nickname,isAdmin:c.isAdmin,subscribeSource:c.subscribeSource,normalizedSearchTerms:c.normalizedSearchTerms,participantCapabilities:c.participantCapabilities,authorityLevel:c.authorityLevel,readActionTimestampMs:h,isSuperAdmin:c.isSuperAdmin,isModerator:c.isModerator,groupParticipantJoinState:c.groupParticipantJoinState});else return b("Promise").resolve(void 0)}).then(function(a){})})}f.call=a}),null);
__d("MAWBridgeResignAttachmentCDNUrlHandler.bs",["LS.bs","LSIssueAttachmentRestoreTask","bs_caml_format","bs_caml_int64"],(function(a,b,c,d,e,f){"use strict";function a(a,c){var d=b("bs_caml_format").caml_int64_of_string(c.backupEntFbid);return b("LSIssueAttachmentRestoreTask")(d,c.deliveryObjectId,c.productType,c.mediaType,c.messageId,c.threadId,b("bs_caml_int64").of_float(c.sortOrder),b("LS.bs").make(a))}f.call=a}),null);
__d("ArmadilloDataTraceCheckPoint.bs",[],(function(a,b,c,d,e,f){"use strict";a=[0,63];b=[0,98];c=[0,504];d=[0,1e3];e=[0,1001];var g=[0,1204],h=[0,1210],i=[0,1225];f.traceGroupMessage=a;f.traceCreated=b;f.richMediaMediaSendAttachmentType=c;f.traceTextMessage=d;f.traceMediaMessage=e;f.advancedCryptoMEMSendTaskComplete=g;f.deliveryReceiptReceived=h;f.advancedCryptoDualSend=i}),null);
__d("LSDataTraceTag.bs",[],(function(a,b,c,d,e,f){"use strict";a=0;b=1;c=2;d=3;e=4;var g=5,h=6,i=7;f.none=a;f.sticker=b;f.image=c;f.animatedImage=d;f.video=e;f.audio=g;f.file=h;f.xma=i}),null);
__d("MAWBridgeStartTraceHandler.bs",["ArmadilloDataTraceCheckPoint.bs","ArmadilloDataTraceType.bs","LS.bs","LSAppendDataTraceAddon","LSDataTraceTag.bs","LSRequestId.bs","MAWMsg.bs","MAWTimeUtils.bs","Promise","ReQLTable","bs_caml","bs_caml_int64","gkx","killswitch","promiseDone"],(function(a,b,c,d,e,f){"use strict";function a(a,c){if(!b("killswitch")("MESSENGER_WEB_DATA_TRACE_ID")&&b("gkx")("1951030")&&c.ack===7){var d=b("LSRequestId.bs").generate(void 0);return b("ReQLTable").table(a,"data_trace_meta").add({traceId:d,initTimestampMs:b("MAWTimeUtils.bs").toTimestamp(c.ts),foregroundTimestampMs:b("bs_caml_int64").zero,traceType:b("ArmadilloDataTraceType.bs").armadilloMessageSend,shouldFlush:!1,contextOne:void 0,contextTwo:void 0,contextThree:c.externalId,predefinedId:void 0}).then(function(c){return b("LSAppendDataTraceAddon")(d,b("ArmadilloDataTraceCheckPoint.bs").traceCreated,b("bs_caml_int64").neg_one,void 0,void 0,b("LS.bs").make(a))}).then(function(e){e=c.isDS;var f=c.openMessageOtid;if(e&&f!==void 0)return b("LSAppendDataTraceAddon")(d,b("ArmadilloDataTraceCheckPoint.bs").advancedCryptoDualSend,b("bs_caml_int64").neg_one,void 0,f,b("LS.bs").make(a));else return b("Promise").resolve(void 0)}).then(function(e){e=c.type_;e=e===b("MAWMsg.bs").text?b("ArmadilloDataTraceCheckPoint.bs").traceTextMessage:e===b("MAWMsg.bs").ptt||e===b("MAWMsg.bs").image||e===b("MAWMsg.bs").video||e===b("MAWMsg.bs").gif?b("ArmadilloDataTraceCheckPoint.bs").traceMediaMessage:void 0;if(e===void 0)return window.Promise.resolve(e);var f=b("LSAppendDataTraceAddon")(d,e,b("bs_caml_int64").neg_one,void 0,void 0,b("LS.bs").make(a));b("promiseDone")(f,void 0,void 0);return b("Promise").resolve(e)}).then(function(e){if(e===void 0)return window.Promise.resolve(void 0);if(!b("bs_caml").i64_eq(e,b("ArmadilloDataTraceCheckPoint.bs").traceMediaMessage))return window.Promise.resolve(void 0);e=c.type_;e=e===b("MAWMsg.bs").image?b("LSDataTraceTag.bs").image:e===b("MAWMsg.bs").ptt?b("LSDataTraceTag.bs").audio:e===b("MAWMsg.bs").video?b("LSDataTraceTag.bs").video:e===b("MAWMsg.bs").gif?b("LSDataTraceTag.bs").animatedImage:b("LSDataTraceTag.bs").none;return b("LSAppendDataTraceAddon")(d,b("ArmadilloDataTraceCheckPoint.bs").richMediaMediaSendAttachmentType,b("bs_caml_int64").neg_one,void 0,String(e),b("LS.bs").make(a))}).then(function(e){e=c.threadType;if(e)return b("LSAppendDataTraceAddon")(d,b("ArmadilloDataTraceCheckPoint.bs").traceGroupMessage,b("bs_caml_int64").neg_one,void 0,void 0,b("LS.bs").make(a));else return window.Promise.resolve(void 0)})}else return window.Promise.resolve(void 0)}f.call=a}),null);
__d("MAWBridgeSyncContacts.bs",["CurrentUser","LS.bs","LSAuthorityLevel.bs","LSContactBlockedByViewerStatus.bs","LSContactGender.bs","LSContactIdType.bs","LSContactType.bs","LSContactViewerRelationship.bs","LSContactWorkForeignEntityType.bs","LSVerifyContactRowExists","Promise","bs_caml_format","bs_caml_obj"],(function(a,b,c,d,e,f){"use strict";var g=b("CurrentUser").getID();function a(a,c){return c.reduce(function(c,d){var e=b("bs_caml_format").caml_int64_of_string(d);return c.then(function(c){return b("LSVerifyContactRowExists")(e,b("LSContactIdType.bs").fbid,void 0,void 0,b("LSContactType.bs").user,void 0,void 0,void 0,void 0,!1,!1,b("LSContactBlockedByViewerStatus.bs").unblocked,void 0,b("bs_caml_obj").caml_equal(g,d),b("LSAuthorityLevel.bs").optimistic,void 0,void 0,b("LSContactWorkForeignEntityType.bs").unknown,b("LSContactGender.bs").unknown,b("LSContactViewerRelationship.bs").unknown,void 0,b("LS.bs").make(a))}).then(function(a){})},b("Promise").resolve(void 0))}f.currentUserFbid=g;f.call=a}),null);
__d("MAWBridgeThreadBumpedHandler.bs",["MAWAdminMsg.bs","MAWBumpThread.bs","MAWThreadId.bs","MAWTimeUtils.bs","MWV2DualSendMessageContent.bs","Promise","bs_belt_Option","bs_caml_format","bs_caml_option"],(function(a,b,c,d,e,f){"use strict";function a(a,c){return b("MAWThreadId.bs").toThreadKey(a,c.threadId).then(function(d){var e=b("MAWAdminMsg.bs").buildLocalizedString(c.snippetParams,c.snippetType),f=b("MWV2DualSendMessageContent.bs").isDualSend(e);if(f)return b("Promise").resolve(void 0);else return b("MAWBumpThread.bs").threadMutation(a,d,b("MAWTimeUtils.bs").toTimestamp(c.lastActivityTs),b("MAWTimeUtils.bs").toTimestamp(c.lastReadTs),e,b("bs_belt_Option").mapWithDefault(b("bs_caml_option").nullable_to_opt(c.snippetSenderContactId),void 0,function(a){return b("bs_caml_format").caml_int64_of_string(a)}))}).then(function(a){})}f.call=a}),null);
__d("MAWBridgeThreadHiddenHandler.bs",["MAWThreadId.bs","ReQLTable"],(function(a,b,c,d,e,f){"use strict";function a(a,c){return b("MAWThreadId.bs").toThreadKey(a,c).then(function(c){return b("ReQLTable").table(a,"threads")["delete"]({hd:c,tl:0}).then(function(a){})})}f.call=a}),null);
__d("MAWBridgeThreadTimestampsHandler.bs",["CurrentUser","MAWThreadId.bs","MAWTimeUtils.bs","Promise","ReQL.bs","ReQLTable","bs_caml_format","bs_caml_obj"],(function(a,b,c,d,e,f){"use strict";function g(a,c){return b("MAWThreadId.bs").toThreadKey(a,c.threadId).then(function(d){return b("ReQL.bs").first(b("ReQL.bs").getKeyRange(b("ReQLTable").table(a,"threads").asc,{hd:d,tl:0})).then(function(d){if(d===void 0)return b("Promise").resolve(void 0);d=b("bs_caml_obj").caml_obj_dup(d);return b("ReQLTable").table(a,"threads").put((d.lastReadWatermarkTimestampMs=b("MAWTimeUtils.bs").toTimestamp(c.lastReadWatermarkTs),d))})})}function a(a,c){return g(a,c).then(function(d){return b("MAWThreadId.bs").toThreadKey(a,c.threadId).then(function(d){var e=b("bs_caml_format").caml_int64_of_string(b("CurrentUser").getID());return b("ReQL.bs").first(b("ReQL.bs").getKeyRange(b("ReQLTable").table(a,"participants").asc,{hd:d,tl:{hd:e,tl:0}})).then(function(d){if(d!==void 0)return b("ReQLTable").table(a,"participants").put({threadKey:d.threadKey,contactId:d.contactId,readWatermarkTimestampMs:b("MAWTimeUtils.bs").toTimestamp(c.lastReadWatermarkTs),deliveredWatermarkTimestampMs:d.deliveredWatermarkTimestampMs,nickname:d.nickname,isAdmin:d.isAdmin,subscribeSource:d.subscribeSource,normalizedSearchTerms:d.normalizedSearchTerms,participantCapabilities:d.participantCapabilities,authorityLevel:d.authorityLevel,readActionTimestampMs:b("MAWTimeUtils.bs").toTimestamp(c.lastActivityTimestampMs),isSuperAdmin:d.isSuperAdmin,isModerator:d.isModerator,groupParticipantJoinState:d.groupParticipantJoinState});else return b("Promise").resolve(void 0)})})}).then(function(a){})}f.call=a}),null);
__d("MAWBridgeThreadUpdatedHandler.bs",["MAWAdminMsg.bs","MAWFolder.bs","MAWGating.bs","MAWThreadId.bs","MWV2DualSendMessageContent.bs","Promise","ReQL.bs","ReQLTable","bs_caml_format","bs_caml_int64","bs_caml_obj"],(function(a,b,c,d,e,f){"use strict";function g(a,c){return b("MAWThreadId.bs").toThreadKey(a,c.threadId).then(function(d){return b("ReQL.bs").first(b("ReQL.bs").getKeyRange(b("ReQLTable").table(a,"threads").asc,{hd:d,tl:0})).then(function(d){if(d===void 0)return b("Promise").resolve(void 0);var e=c.snippetParams,f=c.snippetType;e=!(e==null)&&!(f==null)?b("MAWAdminMsg.bs").buildLocalizedString(e,f):d.snippet;f=b("MWV2DualSendMessageContent.bs").isDualSend(e);var g=c.snippetSenderContactId;g=g==null?d.snippetSenderContactId:b("bs_caml_format").caml_int64_of_string(g);var h=c.muteExpireTimeMs;h=!(h==null)&&!b("MAWGating.bs").isOccamadillo?b("bs_caml_int64").of_float(h):d.muteExpireTimeMs;var i=c.folder;i=i==null?d.folderName:b("MAWFolder.bs").messagingFolderTag(c.folder);var j=c.folder;j=j==null?d.parentThreadKey:b("MAWFolder.bs").systemFolder(c.folder);var k=c.cannotReplyReason;k=k==null?i==="inbox"?void 0:d.cannotReplyReason:k;var l=b("bs_caml_obj").caml_obj_dup(d);return b("ReQLTable").table(a,"threads").put((l.parentThreadKey=j,l.cannotReplyReason=k,l.snippetSenderContactId=g,l.snippet=f?d.snippet:e,l.muteExpireTimeMs=h,l.folderName=i,l))})})}function a(a,b){return g(a,b).then(function(a){})}f.call=a}),null);
__d("MAWBridgeThreadsLoadedHandler.bs",["MAWFolder.bs","MAWThreadId.bs","MAWTimeUtils.bs","Promise","ReQL.bs","ReQLTable","bs_caml_int64"],(function(a,b,c,d,e,f){"use strict";function a(a,c){var d;switch(c.TAG|0){case 0:d=b("MAWFolder.bs").clientSystemFolder(c._0.folderId);break;case 1:d=b("MAWFolder.bs").clientSystemFolder(c._0.folderId);break;case 2:d=b("MAWFolder.bs").clientSystemFolder(c._0.folderId);break}return b("ReQL.bs").first(b("ReQL.bs").getKeyRange(b("ReQLTable").table(a,"threads_ranges_v2__generated").asc,{hd:d,tl:0})).then(function(e){if(e!==void 0)return b("ReQLTable").table(a,"threads_ranges_v2__generated")["delete"]({hd:e.parentThreadKey,tl:{hd:e.minThreadKey,tl:{hd:e.minLastActivityTimestampMs,tl:0}}}).then(function(f){switch(c.TAG|0){case 0:case 1:break;case 2:var d=c._0;return b("MAWThreadId.bs").toThreadKey(a,d.minThreadId).then(function(c){return b("ReQLTable").table(a,"threads_ranges_v2__generated").put({parentThreadKey:e.parentThreadKey,minThreadKey:c,minLastActivityTimestampMs:b("MAWTimeUtils.bs").toTimestamp(d.minLastActivityTs),maxThreadKey:e.maxThreadKey,maxLastActivityTimestampMs:e.maxLastActivityTimestampMs,isLoadingBefore:!1,isLoadingAfter:e.isLoadingAfter,hasMoreBefore:d.hasMore,hasMoreAfter:e.hasMoreAfter})})}return b("ReQLTable").table(a,"threads_ranges_v2__generated").put({parentThreadKey:e.parentThreadKey,minThreadKey:e.minThreadKey,minLastActivityTimestampMs:e.minLastActivityTimestampMs,maxThreadKey:e.maxThreadKey,maxLastActivityTimestampMs:e.maxLastActivityTimestampMs,isLoadingBefore:!1,isLoadingAfter:e.isLoadingAfter,hasMoreBefore:e.hasMoreBefore,hasMoreAfter:e.hasMoreAfter})});switch(c.TAG|0){case 0:return b("ReQLTable").table(a,"threads_ranges_v2__generated").put({parentThreadKey:d,minThreadKey:b("bs_caml_int64").zero,minLastActivityTimestampMs:[2328,1316134911],maxThreadKey:b("bs_caml_int64").zero,maxLastActivityTimestampMs:[2328,1316134911],isLoadingBefore:!1,isLoadingAfter:!1,hasMoreBefore:!1,hasMoreAfter:!1});case 1:var f=c._0;return b("Promise").all([b("MAWThreadId.bs").toThreadKey(a,f.minThreadId),b("MAWThreadId.bs").toThreadKey(a,f.maxThreadId)]).then(function(c){return b("ReQLTable").table(a,"threads_ranges_v2__generated").add({parentThreadKey:d,minThreadKey:c[0],minLastActivityTimestampMs:b("MAWTimeUtils.bs").toTimestamp(f.minLastActivityTs),maxThreadKey:c[1],maxLastActivityTimestampMs:b("MAWTimeUtils.bs").toTimestamp(f.maxLastActivityTs),isLoadingBefore:!1,isLoadingAfter:!1,hasMoreBefore:f.hasMore,hasMoreAfter:!1})});case 2:return b("Promise").resolve(void 0)}})}f.call=a}),null);
__d("MAWBridgeUpdateTraceHandler.bs",["ArmadilloDataTraceCheckPoint.bs","LS.bs","LSAppendDataTraceAddon","LSFlushDataTrace.bs","MAWGating.bs","Promise","ReQL.bs","ReQLTable","bs_caml_int64","gkx","killswitch"],(function(a,b,c,d,e,f){"use strict";function g(a,c,d){return b("ReQL.bs").toArray(b("ReQL.bs").filter(b("ReQLTable").table(a,"data_trace_meta").asc,function(a){var b=a.contextThree;if(b!==void 0&&c.externalIds.includes(b))return a.shouldFlush===!1;else return!1})).then(function(c){var e=[];return c.reduce(function(c,f){return c.then(function(c){e.push(f.traceId);return b("LSAppendDataTraceAddon")(f.traceId,d,b("bs_caml_int64").neg_one,void 0,void 0,b("LS.bs").make(a))})},b("Promise").resolve(void 0)).then(function(a){return e})})}function h(a,c){return c.reduce(function(c,d){return c.then(function(c){return b("LSFlushDataTrace.bs").updateAndFlushTrace(a,d)})},b("Promise").resolve(void 0))}function a(a,c){if(b("killswitch")("MESSENGER_WEB_DATA_TRACE_ID"))return window.Promise.resolve(void 0);if(!b("gkx")("1951030"))return window.Promise.resolve(void 0);var d=c.event;if(d==="ReceivedReceipt")return g(a,c,b("ArmadilloDataTraceCheckPoint.bs").deliveryReceiptReceived).then(function(b){return h(a,b)});else return g(a,c,b("ArmadilloDataTraceCheckPoint.bs").advancedCryptoMEMSendTaskComplete).then(function(c){if(b("MAWGating.bs").isDualSendWebOrCrossApp(void 0))return h(a,c);else return window.Promise.resolve(void 0)})}f.call=a}),null);
__d("MAWBridgeUploadAttachmentHandler.bs",["LS.bs","LSIssueAttachmentBackupTask"],(function(a,b,c,d,e,f){"use strict";function a(a,c){return b("LSIssueAttachmentBackupTask")(c.deliveryObjectId,c.productType,c.mediaType,c.messageId,c.threadId,b("LS.bs").make(a))}f.call=a}),null);
__d("LSBackupOperationType.bs",["bs_caml_int64"],(function(a,b,c,d,e,f){"use strict";a=b("bs_caml_int64").one;c=[0,2];f.upsertBackupItem=a;f.removeBackupItem=c}),null);
__d("MAWBridgeUploadMessageHandler.bs",["LS.bs","LSBackupOperationType.bs","LSUploadMessage","bs_caml_int64"],(function(a,b,c,d,e,f){"use strict";function a(a,c){var d=c.echoDocument;if(d==null)return b("LSUploadMessage")(c.threadId,c.messageId,b("bs_caml_int64").of_float(c.sortOrderMs),void 0,b("LSBackupOperationType.bs").removeBackupItem,b("LS.bs").make(a));else return b("LSUploadMessage")(c.threadId,c.messageId,b("bs_caml_int64").of_float(c.sortOrderMs),d,b("LSBackupOperationType.bs").upsertBackupItem,b("LS.bs").make(a))}f.call=a}),null);
__d("MAWBridgeUploadThreadHandler.bs",["LS.bs","LSBackupOperationType.bs","LSUploadThread","MAWTimeUtils.bs"],(function(a,b,c,d,e,f){"use strict";function a(a,c){var d=c.echoDocument;if(d==null)return b("LSUploadThread")(c.threadId,c.folderType,c.transportKey,b("MAWTimeUtils.bs").toTimestamp(c.ts),void 0,b("LSBackupOperationType.bs").removeBackupItem,b("LS.bs").make(a));else return b("LSUploadThread")(c.threadId,c.folderType,c.transportKey,b("MAWTimeUtils.bs").toTimestamp(c.ts),d,b("LSBackupOperationType.bs").upsertBackupItem,b("LS.bs").make(a))}f.call=a}),null);
__d("MAWBridgeUIEventHandler.bs",["LSTransaction.bs","MAWBridgeAbPropsUpdatedHandler.bs","MAWBridgeCallFinishAddDeviceHandler.bs","MAWBridgeClockSkewUpdatedHandler.bs","MAWBridgeDeleteMessagesHandler.bs","MAWBridgeDeleteReactionHandler.bs","MAWBridgeDropAllSecureThreadsHandler.bs","MAWBridgeGroupInfoUpdatedHandler.bs","MAWBridgeInitSyncCompleteHandler.bs","MAWBridgeMediaExpiredHandler.bs","MAWBridgeMsgClearCountdownHandler.bs","MAWBridgeMsgUpdatedHandler.bs","MAWBridgeMsgsLoadedHandler.bs","MAWBridgeMsgsStartCountdownHandler.bs","MAWBridgeNewMediaHandler.bs","MAWBridgeNewMediaRangeHandler.bs","MAWBridgeNewMsgHandler.bs","MAWBridgeParticipantRemovedHandler.bs","MAWBridgeParticipantUpdatedHandler.bs","MAWBridgeReactionUpsertHandler.bs","MAWBridgeReceivedChatStateHandler.bs","MAWBridgeReceivedReceiptHandler.bs","MAWBridgeResignAttachmentCDNUrlHandler.bs","MAWBridgeStartTraceHandler.bs","MAWBridgeSyncContacts.bs","MAWBridgeThreadBumpedHandler.bs","MAWBridgeThreadHiddenHandler.bs","MAWBridgeThreadTimestampsHandler.bs","MAWBridgeThreadUpdatedHandler.bs","MAWBridgeThreadsLoadedHandler.bs","MAWBridgeUpdateTraceHandler.bs","MAWBridgeUploadAttachmentHandler.bs","MAWBridgeUploadMessageHandler.bs","MAWBridgeUploadThreadHandler.bs","MAWGating.bs","Promise","bs_curry","cr:9875","promiseDone","recoverableViolation"],(function(a,b,c,d,e,f){"use strict";function a(a,c){a=a.then(function(a){return b("LSTransaction.bs").run(a,function(a){var d=b("MAWGating.bs").isArmadillo(void 0)&&b("MAWGating.bs").isDualSendWebOrCrossApp(void 0)?(b("recoverableViolation")("User is both part of armadillo QE and dual send QE","messenger_web_product"),function(a){return b("Promise").resolve(void 0)}):b("MAWGating.bs").isArmadillo(void 0)?function(c){switch(c.TAG|0){case 0:return b("MAWBridgeNewMsgHandler.bs").call(a,c._0);case 1:return b("MAWBridgeMsgsStartCountdownHandler.bs").call(a,c._0);case 2:return b("MAWBridgeMsgClearCountdownHandler.bs").call(c._0);case 3:return b("MAWBridgeDropAllSecureThreadsHandler.bs").call(a);case 4:return b("bs_curry")._2(b("cr:9875").call,a,c._0);case 5:return b("MAWBridgeMsgUpdatedHandler.bs").call(a,c._0);case 6:return b("MAWBridgeNewMediaHandler.bs").call(a,c._0);case 7:return b("MAWBridgeNewMediaRangeHandler.bs").call(a,c._0);case 8:return b("MAWBridgeMediaExpiredHandler.bs").call(a,c._0);case 9:return b("MAWBridgeParticipantUpdatedHandler.bs").call(a,c._0);case 10:return b("MAWBridgeParticipantRemovedHandler.bs").call(a,c._0);case 11:return b("MAWBridgeReceivedReceiptHandler.bs").call(a,c._0);case 12:return b("MAWBridgeThreadUpdatedHandler.bs").call(a,c._0);case 13:return b("MAWBridgeGroupInfoUpdatedHandler.bs").call(a,c._0);case 14:return b("MAWBridgeThreadBumpedHandler.bs").call(a,c._0);case 15:return b("MAWBridgeThreadsLoadedHandler.bs").call(a,c._0);case 16:return b("MAWBridgeThreadTimestampsHandler.bs").call(a,c._0);case 17:return b("MAWBridgeMsgsLoadedHandler.bs").call(a,c._0);case 18:return b("MAWBridgeInitSyncCompleteHandler.bs").call(a);case 19:return b("MAWBridgeStartTraceHandler.bs").call(a,c._0);case 20:return b("MAWBridgeUpdateTraceHandler.bs").call(a,c._0);case 21:return b("MAWBridgeThreadHiddenHandler.bs").call(a,c._0);case 22:return b("MAWBridgeSyncContacts.bs").call(a,c._0);case 23:return b("MAWBridgeReceivedChatStateHandler.bs").call(a,c._0);case 24:return b("MAWBridgeClockSkewUpdatedHandler.bs").call(a,c._0);case 25:return b("MAWBridgeAbPropsUpdatedHandler.bs").call(c._0);case 26:return b("MAWBridgeReactionUpsertHandler.bs").call(a,c._0);case 27:return b("MAWBridgeDeleteReactionHandler.bs").call(a,c._0);case 28:return b("MAWBridgeUploadMessageHandler.bs").call(a,c._0);case 29:return b("MAWBridgeUploadThreadHandler.bs").call(a,c._0);case 30:return b("MAWBridgeCallFinishAddDeviceHandler.bs").call(a,c._0);case 31:return b("MAWBridgeUploadAttachmentHandler.bs").call(a,c._0);case 32:return b("MAWBridgeResignAttachmentCDNUrlHandler.bs").call(a,c._0);case 33:return b("MAWBridgeDeleteMessagesHandler.bs").call(a,c._0)}}:b("MAWGating.bs").isDualSendWebOrCrossApp(void 0)?function(c){switch(c.TAG|0){case 19:var d=c._0,e=d.ts,f=d.externalId,g=d.threadType,h=d.type_,i=d.ack;d=d.openMessageOtid;e={ts:e,externalId:f,threadType:g,type_:h,ack:i,isDS:!0,openMessageOtid:d};return b("MAWBridgeStartTraceHandler.bs").call(a,e);case 20:return b("MAWBridgeUpdateTraceHandler.bs").call(a,c._0);case 22:return b("MAWBridgeSyncContacts.bs").call(a,c._0);default:return b("Promise").resolve(void 0)}}:(b("recoverableViolation")("User is neither part of armadillo QE and dual send QE but somehow loaded this handler","messenger_web_product"),function(a){return b("Promise").resolve(void 0)});return c.reduce(function(a,c){return a.then(function(a){return b("bs_curry")._1(d,c)})},b("Promise").resolve(void 0))},"readWrite")});b("promiseDone")(a,void 0,function(a){b("recoverableViolation")("Error handling UI Event","messenger_web_product",{error:a.Error})})}f.$MAWBridgeOccamadilloVerifyThreadExistsHandler$OR$MAWBridgeVerifyThreadExistsHandler$requireCond=b("cr:9875");f.handleEvents=a}),null);
__d("MAWBridgeUIEventHandler.re",["MAWBridgeUIEventHandler.bs"],(function(a,b,c,d,e,f){var g={"-7":0,"-6":1,"-5":2,"-4":3,"-3":4,"-2":5,"-1":6,0:7,1:8,2:9,3:10,4:11},h={User:0,Group:1};a=function(a,c){a=b("MAWBridgeUIEventHandler.bs").handleEvents(a,c.map(function(a){return a.tag==="NewMsg"?{TAG:0,_0:{ts:a.value.ts,chatId:a.value.chatId,rowId:a.value.rowId,msgId:a.value.msgId,sender:a.value.sender,isAdminMessage:a.value.isAdminMessage,content:a.value.content,ack:g[a.value.ack],type_:a.value.type_,adminType:a.value.adminType,adminContent:a.value.adminContent,offlineMsg:a.value.offlineMsg,isAuthorMe:a.value.isAuthorMe,isForwarded:a.value.isForwarded,originalTs:a.value.originalTs,replySnippet:a.value.replySnippet,replyMessageText:a.value.replyMessageText,replySourceId:a.value.replySourceId,replyToUserId:a.value.replyToUserId,replySourceTimestampMs:a.value.replySourceTimestampMs,replyStatusType:a.value.replyStatusType,replyMediaExpirationTimestampMs:a.value.replyMediaExpirationTimestampMs,replyMediaId:a.value.replyMediaId,replyMediaPreviewWidth:a.value.replyMediaPreviewWidth,replyMediaPreviewHeight:a.value.replyMediaPreviewHeight,replyMediaUrlMimeType:a.value.replyMediaUrlMimeType,replyMediaUrlFallback:a.value.replyMediaUrlFallback,replyCtaId:a.value.replyCtaId,replyCtaTitle:a.value.replyCtaTitle,replySenderIsMe:a.value.replySenderIsMe,ephemeralDurationInSec:a.value.ephemeralDurationInSec,sortOrderMs:a.value.sortOrderMs}}:a.tag==="MsgsStartCountdown"?{TAG:1,_0:a.value}:a.tag==="MsgClearCountdown"?{TAG:2,_0:a.value}:a.tag==="DropAllSecureThreads"?{TAG:3,_0:a.value}:a.tag==="VerifyThreadExists"?{TAG:4,_0:a.value}:a.tag==="MsgUpdated"?{TAG:5,_0:{ts:a.value.ts,chatId:a.value.chatId,rowId:a.value.rowId,msgId:a.value.msgId,sender:a.value.sender,isAdminMessage:a.value.isAdminMessage,content:a.value.content,ack:g[a.value.ack],type_:a.value.type_,adminType:a.value.adminType,adminContent:a.value.adminContent,offlineMsg:a.value.offlineMsg,isAuthorMe:a.value.isAuthorMe,isForwarded:a.value.isForwarded,originalTs:a.value.originalTs,replySnippet:a.value.replySnippet,replyMessageText:a.value.replyMessageText,replySourceId:a.value.replySourceId,replyToUserId:a.value.replyToUserId,replySourceTimestampMs:a.value.replySourceTimestampMs,replyStatusType:a.value.replyStatusType,replyMediaExpirationTimestampMs:a.value.replyMediaExpirationTimestampMs,replyMediaId:a.value.replyMediaId,replyMediaPreviewWidth:a.value.replyMediaPreviewWidth,replyMediaPreviewHeight:a.value.replyMediaPreviewHeight,replyMediaUrlMimeType:a.value.replyMediaUrlMimeType,replyMediaUrlFallback:a.value.replyMediaUrlFallback,replyCtaId:a.value.replyCtaId,replyCtaTitle:a.value.replyCtaTitle,replySenderIsMe:a.value.replySenderIsMe,ephemeralDurationInSec:a.value.ephemeralDurationInSec,sortOrderMs:a.value.sortOrderMs}}:a.tag==="NewMedia"?{TAG:6,_0:a.value}:a.tag==="NewMediaRange"?{TAG:7,_0:a.value}:a.tag==="MediaExpired"?{TAG:8,_0:a.value}:a.tag==="ParticipantUpdated"?{TAG:9,_0:a.value}:a.tag==="ParticipantRemoved"?{TAG:10,_0:a.value}:a.tag==="ReceivedReceipt"?{TAG:11,_0:a.value}:a.tag==="ThreadUpdated"?{TAG:12,_0:a.value}:a.tag==="GroupInfoUpdated"?{TAG:13,_0:a.value}:a.tag==="ThreadBumped"?{TAG:14,_0:a.value}:a.tag==="ThreadsLoaded"?{TAG:15,_0:a.value}:a.tag==="ThreadTimestampsUpdated"?{TAG:16,_0:a.value}:a.tag==="MsgsLoaded"?{TAG:17,_0:a.value}:a.tag==="InitSyncComplete"?{TAG:18,_0:a.value}:a.tag==="StartTrace"?{TAG:19,_0:{ts:a.value.ts,externalId:a.value.externalId,threadType:h[a.value.threadType],type_:a.value.type_,ack:g[a.value.ack],isDS:a.value.isDS,openMessageOtid:a.value.openMessageOtid}}:a.tag==="UpdateTrace"?{TAG:20,_0:a.value}:a.tag==="ThreadHidden"?{TAG:21,_0:a.value}:a.tag==="SyncContacts"?{TAG:22,_0:a.value}:a.tag==="ReceivedChatState"?{TAG:23,_0:a.value}:a.tag==="ClockSkewUpdated"?{TAG:24,_0:a.value}:a.tag==="ABPropsUpdated"?{TAG:25,_0:a.value}:a.tag==="UpsertReaction"?{TAG:26,_0:a.value}:a.tag==="DeleteReaction"?{TAG:27,_0:a.value}:a.tag==="UploadMessage"?{TAG:28,_0:a.value}:a.tag==="UploadThread"?{TAG:29,_0:a.value}:a.tag==="CallFinishAddDevice"?{TAG:30,_0:a.value}:a.tag==="UploadAttachment"?{TAG:31,_0:a.value}:a.tag==="ResignAttachmentCDNUrl"?{TAG:32,_0:a.value}:{TAG:33,_0:a.value}}));return a};f.handleEvents=a}),null);
__d("MAWSetupMutex",["FBLogger","LocalStorageMutex","MAWAppMutex","MAWBridge","MAWDetectDbSupport","MAWEncyptionIndexedDb","MAWGating.re","MAWIndexedDb","MAWKeychainInit","MAWLocalStorage","MWChatBadgeCountUpdates.re","QPLUserCountEvent","QPLUserFlow","Run","WALogger","cr:863","qpl","react","regeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["AppMutex - Shouldn't reinitialize, worker already exists"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["AppMutex - Reinitializing"]);i=function(){return a};return a}a=d("react");var j=a.useCallback,k=a.useEffect,l=a.useMemo,m=c("FBLogger")("messenger_e2ee_web");e=function(a,e,f){var g=f.doesWorkerExist,n=f.getOrSetupWorker,o=f.setupBridge,p=f.terminateWorker,q=l(function(){return d("MAWAppMutex").use()},[]),r=j(function(a){var b=q.takeoverFilter(a);b&&a.newValue!==d("LocalStorageMutex").THIS_TAB&&a.newValue!==""&&(d("MAWGating.re").isPersistedDbEnabled()||d("MAWBridge").getBridge().fireAndForget("event","uiUpdate",{events:[{tag:"DropAllSecureThreads",value:void 0}]}),p(),q.onMutexDeath())},[q,p]),s=j(function(){p(),q.onMutexDeath()},[q,p]),t=j(function(){var f,j,k,l,p,r,s,t;return b("regeneratorRuntime").async(function(u){while(1)switch(u.prev=u.next){case 0:if(!(document.visibilityState==="visible")){u.next=50;break}f=g();u.next=4;return b("regeneratorRuntime").awrap(c("MAWDetectDbSupport")());case 4:j=u.sent;k=d("MAWLocalStorage").isLocalStorageAvailable();if(!(!f&&j&&k)){u.next=49;break}c("QPLUserFlow").start(c("qpl")._(25310984,"169"));u.next=10;return b("regeneratorRuntime").awrap(q.init());case 10:l=u.sent;if(!l){u.next=46;break}d("WALogger").LOG(i());d("MAWEncyptionIndexedDb").makeEncryptionDB(e);u.next=16;return b("regeneratorRuntime").awrap(d("MAWKeychainInit").initSetupKeychain());case 16:p=u.sent;d("MAWIndexedDb").makeDB(e);if(!p.success){u.next=43;break}u.prev=19;r=null;if(!(b("cr:863")!=null)){u.next=25;break}u.next=24;return b("regeneratorRuntime").awrap(b("cr:863").setupVaultForPersistedLSDB());case 24:r=u.sent;case 25:u.next=27;return b("regeneratorRuntime").awrap(n(e,p.value,r));case 27:s=u.sent;u.next=30;return b("regeneratorRuntime").awrap(o({environment:a,worker:s}));case 30:t=u.sent;if(d("MAWGating.re").isPersistedDbEnabled()){u.next=34;break}u.next=34;return b("regeneratorRuntime").awrap(t.sendAndReceive("backend","initSync",{numMsgsPerThread:10,numThreads:d("MWChatBadgeCountUpdates.re").minSyncedThreads}));case 34:u.next=41;break;case 36:u.prev=36,u.t0=u["catch"](19),m.mustfix("AppMutex - failed to reinitialize worker"),m.catching(u.t0),c("QPLUserFlow").endFailure(c("qpl")._(25310984,"169"),"failed_to_reinitialize_worker");case 41:u.next=44;break;case 43:c("QPLUserFlow").endFailure(c("qpl")._(25310984,"169"),"mutex_keychain_setup_failure_on_reinit");case 44:u.next=47;break;case 46:c("QPLUserFlow").endFailure(c("qpl")._(25310984,"169"),"mutex_no_premission_on_reinit");case 47:u.next=50;break;case 49:f?d("WALogger").DEV(h()):!j?d("QPLUserCountEvent").fireQplUserCount(c("qpl")._(25299354,"201")):k||d("QPLUserCountEvent").fireQplUserCount(c("qpl")._(25309925,"203"));case 50:case"end":return u.stop()}},null,this,[[19,36]])},[a,e,q,g,n,o]);k(function(){window.addEventListener("storage",r);var a=c("Run").onBeforeUnload(s,!1),b=c("Run").onUnload(s);window.addEventListener("visibilitychange",t);return function(){window.removeEventListener("storage",r),a.remove(),b.remove(),window.removeEventListener("visibilitychange",t)}},[r,s,t])};g.useMutex=e}),98);
__d("MAWSetupMutex.react",["MAWSetupMutex","react"],(function(a,b,c,d,e,f,g){"use strict";d("react");function a(a){var b=a.environment,c=a.fbId;a=a.platformSetupUtils;d("MAWSetupMutex").useMutex(b,c,a);return null}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("RTWebCometMissedCallContent.react",["fbt","CometProgressIndicator.react","CometRelativeTimestamp.react","RTWebCometCallMessageLayout.react","ZenonUsersHooks","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");function a(a){var b=a.inviterID,e=a.isRoomCall,f=a.isVideoCall,g=a.participantIDs;a=a.timeMissed;b=d("ZenonUsersHooks").useZenonUser(b);var j=d("ZenonUsersHooks").useZenonUsers(g).valueSeq().toArray();g=g.length>1;g=!g||e?h._(/*FBT_CALL*/"B\u1ea1n \u0111\u00e3 l\u1ee1 m\u1ed9t cu\u1ed9c g\u1ecdi t\u1eeb {caller name}"/*FBT_CALL*/,[h._param("caller name",b==null?void 0:b.name)]):f?h._(/*FBT_CALL*/"B\u1ea1n \u0111\u00e3 l\u1ee1 m\u1ed9t cu\u1ed9c g\u1ecdi video nh\u00f3m t\u1eeb {caller name}"/*FBT_CALL*/,[h._param("caller name",b==null?void 0:b.name)]):h._(/*FBT_CALL*/"B\u1ea1n \u0111\u00e3 l\u1ee1 m\u1ed9t cu\u1ed9c g\u1ecdi nh\u00f3m t\u1eeb {caller name}"/*FBT_CALL*/,[h._param("caller name",b==null?void 0:b.name)]);return b===null?i.jsx(c("CometProgressIndicator.react"),{}):i.jsx(c("RTWebCometCallMessageLayout.react"),{caller:b,mainMessage:g,participants:j,subMessage:i.jsx(c("CometRelativeTimestamp.react"),{date:a,format:"normal"})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("RTWebUnsupportedDialog.react",["fbt","CometCardedDialogLoadingState.react","CometContextRowLink.react","CometPlaceholder.react","JSResourceForInteraction","lazyLoadComponent","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j=c("lazyLoadComponent")(c("JSResourceForInteraction")("RTWebCometUnsupportedBrowserContent.react").__setRef("RTWebUnsupportedDialog.react")),k=c("lazyLoadComponent")(c("JSResourceForInteraction")("RTWebCometCallDialog.react").__setRef("RTWebUnsupportedDialog.react")),l="https://www.google.com/chrome/index.html";function a(a){var b=a.hide,d=a.inviterID,e=a.isVideoCall,f=a.onClose,g=a.participantIDs;a=a.threadType;return i.jsx(c("CometPlaceholder.react"),{fallback:i.jsx(c("CometCardedDialogLoadingState.react"),{}),children:i.jsx(k,{acceptLabel:h._(/*FBT_CALL*/"C\u00e0i \u0111\u1eb7t Chrome"/*FBT_CALL*/),body:i.jsx(j,{inviterID:d,mainMessage:h._(/*FBT_CALL*/"T\u1ea3i Chrome \u0111\u1ec3 tham gia"/*FBT_CALL*/),participantIDs:g,subMessage:h._(/*FBT_CALL*/"Tr\u00ecnh duy\u1ec7t c\u1ee7a b\u1ea1n kh\u00f4ng h\u1ed7 tr\u1ee3 t\u00ednh n\u0103ng n\u00e0y. H\u00e3y c\u00e0i \u0111\u1eb7t {link to install chrome} \u0111\u1ec3 s\u1eed d\u1ee5ng tr\u1ecdn v\u1eb9n t\u00ednh n\u0103ng g\u1ecdi tho\u1ea1i v\u00e0 chat video c\u1ee7a Messenger."/*FBT_CALL*/,[h._param("link to install chrome",m(f))])}),declineLabel:h._(/*FBT_CALL*/"L\u00fac kh\u00e1c"/*FBT_CALL*/),onClose:function(a){a&&window.open(l,"_blank"),b(),f()},title:h._(/*FBT_CALL*/"\u0110ang m\u1eddi {Unsupported feature name}"/*FBT_CALL*/,[h._param("Unsupported feature name",n(a,e))])})})}a.displayName=a.name+" [from "+f.id+"]";function m(a){return i.jsx(c("CometContextRowLink.react"),{external:!0,linkProps:{target:"_blank",url:l},onPress:a,children:h._(/*FBT_CALL*/"Chrome"/*FBT_CALL*/)})}m.displayName=m.name+" [from "+f.id+"]";function n(a,b){if(a===2)return b?"Group Video Chat":"Group Audio Call";else if(a===3)return"Room Call";else return b?"Video Chat":"Audio Call"}g["default"]=a}),98);
__d("VideoPlayerConfigParameterSourcesPayload",["VideoPlayerConfigParameterSources"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=c("VideoPlayerConfigParameterSources")}),98);
__d("VideoPlayerCostreamingControl.react",["fbt","ix","CometRelay","CometTahoeBottomPaneContext","VideoPlayerControlIcon.react","VideoPlayerCostreamingControl_video.graphql","fbicon","react","useGamingVideoDestinationEventLogger"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k=d("react");e=d("react");var l=e.useContext,m=e.useEffect,n=j!==void 0?j:j=b("VideoPlayerCostreamingControl_video.graphql");function a(a){a=a.video;var b=c("useGamingVideoDestinationEventLogger")(),e=b.logEvent,f=d("CometRelay").useFragment(n,a);b=l(d("CometTahoeBottomPaneContext").CometTahoeBottomPaneContext);a=b.activePane;var g=b.setActivePane,j=a!==d("CometTahoeBottomPaneContext").ActivePane.COSTREAMING;b=j?h._(/*FBT_CALL*/"B\u1eadt ch\u1ebf \u0111\u1ed9 C\u00f9ng ph\u00e1t tr\u1ef1c ti\u1ebfp"/*FBT_CALL*/):h._(/*FBT_CALL*/"T\u1eaft ch\u1ebf \u0111\u1ed9 C\u00f9ng ph\u00e1t tr\u1ef1c ti\u1ebfp"/*FBT_CALL*/);a=function(){var a={page_id:f==null?void 0:f.owner.id,video_id:f==null?void 0:f.id};j?(g(d("CometTahoeBottomPaneContext").ActivePane.COSTREAMING),e("toggle_costreaming_mode_on",a)):(g(d("CometTahoeBottomPaneContext").ActivePane.NONE),e("toggle_costreaming_mode_off",a))};m(function(){g(d("CometTahoeBottomPaneContext").ActivePane.COSTREAMING)},[]);return k.jsx("div",{className:"ggphbty4 w0hvl6rk fv0vnmcu qjjbsfad q9uorilb",children:k.jsx(c("VideoPlayerControlIcon.react"),{icon:j?d("fbicon")._(i("1429127"),20):d("fbicon")._(i("1429119"),20),label:b,onPress:a,tooltip:b})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("VideoPlayerModeratorControl.react",["fbt","ix","CometRelay","CometTahoeBottomPaneContext","VideoPlayerControlIcon.react","VideoPlayerModeratorControl_video.graphql","emptyFunction","fbicon","nux:97","react","stylex"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k=d("react"),l=d("react").useContext,m={"default":{display:"q9uorilb",marginTop:"qjjbsfad",marginEnd:"fv0vnmcu",marginBottom:"w0hvl6rk",marginStart:"ggphbty4"},toolTip:{width:"cs7azdtd"}},n=j!==void 0?j:j=b("VideoPlayerModeratorControl_video.graphql");function a(a){var e;a=a.video;d("CometRelay").useFragment(n,a);a=l(d("CometTahoeBottomPaneContext").CometTahoeBottomPaneContext);var f=a.activePane,g=a.setActivePane,j=f!==d("CometTahoeBottomPaneContext").ActivePane.MODERATOR_DASHBOARD;a=j?h._(/*FBT_CALL*/"B\u1eadt Ch\u1ebf \u0111\u1ed9 xem c\u1ee7a ng\u01b0\u1eddi ki\u1ec3m duy\u1ec7t"/*FBT_CALL*/):h._(/*FBT_CALL*/"T\u1eaft Ch\u1ebf \u0111\u1ed9 xem c\u1ee7a ng\u01b0\u1eddi ki\u1ec3m duy\u1ec7t"/*FBT_CALL*/);f=function(){g(j?d("CometTahoeBottomPaneContext").ActivePane.MODERATOR_DASHBOARD:d("CometTahoeBottomPaneContext").ActivePane.NONE)};var o=h._(/*FBT_CALL*/"B\u1ea1n c\u00f3 th\u1ec3 truy c\u1eadp nhanh v\u00e0o c\u00e1c c\u00f4ng c\u1ee5 ki\u1ec3m duy\u1ec7t t\u1ea1i \u0111\u00e2y."/*FBT_CALL*/);e=(e=b("nux:97")==null?void 0:b("nux:97")("moderator_dashboard_v2_nux"))!=null?e:c("emptyFunction");e=e({align:"end",arrowStyle:"edge",hasCloseButton:!1,label:o,position:"above",type:"accent",xstyle:m.toolTip});return k.jsx("div",{className:c("stylex")(m["default"]),ref:e,children:k.jsx(c("VideoPlayerControlIcon.react"),{icon:j?d("fbicon")._(i("487606"),20):d("fbicon")._(i("487604"),20),label:a,onPress:f,tooltip:a})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("JsSelfProfilerIdleTraceRunner",["JsSelfProfilerIdleProfilerSitevarConfig","Promise","QPLEvent","Random","VisibilityListener","WebLoom","cr:955714","performanceAbsoluteNow","qpl","regeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=d("QPLEvent").getMarkerId(c("qpl")._(45088770,"466")),k=0,l=j+"_"+k;function m(a,b){return Math.floor(c("Random").random()*(b-a))+a}function n(a){return Math.floor(a*-Math.log(c("Random").random()))}function o(a){return new(b("Promise"))(function(b){return void window.setTimeout(b,a)})}function p(a,e){var f,g,h,j;return b("regeneratorRuntime").async(function(k){while(1)switch(k.prev=k.next){case 0:if(!(b("cr:955714")==null)){k.next=4;break}f=new Error("JSSP Idle Trace initialized but JSSP was disabled.");f.stack;throw f;case 4:if(!(a>0)){k.next=7;break}k.next=7;return b("regeneratorRuntime").awrap(o(a));case 7:g=c("performanceAbsoluteNow")();c("WebLoom").startTrace(l,i,g,new Set([b("cr:955714").loomProviderId]));k.next=11;return b("regeneratorRuntime").awrap(o(e));case 11:h=c("performanceAbsoluteNow")(),j=d("VisibilityListener").getHiddenTime(g,h),c("WebLoom").endTrace(l,h,{qpl_action:2,hidden:j!=null&&j>0});case 14:case"end":return k.stop()}},null,this)}function q(){var a,d,e,f,g,h,i;return b("regeneratorRuntime").async(function(j){while(1)switch(j.prev=j.next){case 0:a=c("JsSelfProfilerIdleProfilerSitevarConfig").PAUSE_FOR,d=c("JsSelfProfilerIdleProfilerSitevarConfig").RUN_FOR,e=c("JsSelfProfilerIdleProfilerSitevarConfig").REPEAT,f=m(e.min,e.max),g=0;case 5:if(!(g<f)){j.next=13;break}h=m(a.min,a.max);i=m(d.min,d.max);j.next=10;return b("regeneratorRuntime").awrap(p(h*1e3,i*1e3));case 10:g++;j.next=5;break;case 13:case"end":return j.stop()}},null,this)}function r(){var a,d,e,f,g,h;return b("regeneratorRuntime").async(function(i){while(1)switch(i.prev=i.next){case 0:a=c("JsSelfProfilerIdleProfilerSitevarConfig").EXP_INTERVAL_MS,d=c("JsSelfProfilerIdleProfilerSitevarConfig").EXP_RUN_FOR_MS,e=c("JsSelfProfilerIdleProfilerSitevarConfig").EXP_REPEAT,f=e.val,g=0;case 5:if(!(g<f)){i.next=12;break}h=n(a.val);i.next=9;return b("regeneratorRuntime").awrap(p(h,d.val));case 9:g++;i.next=5;break;case 12:case"end":return i.stop()}},null,this)}a={init:function(a){var d,e,f;return b("regeneratorRuntime").async(function(g){while(1)switch(g.prev=g.next){case 0:if(!(b("cr:955714")==null)){g.next=4;break}d=new Error("JSSP Idle Trace initialized but JSSP was disabled.");d.stack;throw d;case 4:if(!(h===!0)){g.next=6;break}return g.abrupt("return");case 6:e=c("JsSelfProfilerIdleProfilerSitevarConfig").DISTRIBUTION;f=c("JsSelfProfilerIdleProfilerSitevarConfig").CONFIGURED_DISTRIBUTION;i={type:"QPL",qpl_marker_id:String(j),qpl_instance_key:k,sample_rate:1,trace_policy:a};h=!0;g.t0=f.val;g.next=g.t0===e.uniform?13:g.t0===e.exponential?16:19;break;case 13:g.next=15;return b("regeneratorRuntime").awrap(q());case 15:return g.abrupt("break",19);case 16:g.next=18;return b("regeneratorRuntime").awrap(r());case 18:return g.abrupt("break",19);case 19:case"end":return g.stop()}},null,this)}};e=a;g["default"]=e}),98);
/**
 * License: https://www.facebook.com/legal/license/i7wymvhn6QY/
 */
__d("sha256",["str2rstr"],(function(a,b,c,d,e,f){var g=b("str2rstr");function h(a,b){return b>>>a|b<<32-a}function i(a,b,c){return a&b^~a&c}function j(a,b,c){return a&b^a&c^b&c}function k(a){return h(2,a)^h(13,a)^h(22,a)}function l(a){return h(6,a)^h(11,a)^h(25,a)}function m(a){return h(7,a)^h(18,a)^a>>>3}function n(a){return h(17,a)^h(19,a)^a>>>10}function o(a,b){return a[b&15]+=n(a[b+14&15])+a[b+9&15]+m(a[b+1&15])}var p=new Array(1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298),q=new Array(8),r=new Array(2),s=new Array(64),t=new Array(16),u="0123456789abcdef";function v(a,b){var c=(a&65535)+(b&65535);a=(a>>16)+(b>>16)+(c>>16);return a<<16|c&65535}function w(){r[0]=r[1]=0,q[0]=1779033703,q[1]=3144134277,q[2]=1013904242,q[3]=2773480762,q[4]=1359893119,q[5]=2600822924,q[6]=528734635,q[7]=1541459225}function x(){var a,b,c,d,e,f,g,h,m,n;a=q[0];b=q[1];c=q[2];d=q[3];e=q[4];f=q[5];g=q[6];h=q[7];for(var r=0;r<16;r++)t[r]=s[(r<<2)+3]|s[(r<<2)+2]<<8|s[(r<<2)+1]<<16|s[r<<2]<<24;for(var r=0;r<64;r++)m=h+l(e)+i(e,f,g)+p[r],r<16?m+=t[r]:m+=o(t,r),n=k(a)+j(a,b,c),h=g,g=f,f=e,e=v(d,m),d=c,c=b,b=a,a=v(m,n);q[0]+=a;q[1]+=b;q[2]+=c;q[3]+=d;q[4]+=e;q[5]+=f;q[6]+=g;q[7]+=h}function y(a,b){var c,d,e=0;d=r[0]>>3&63;var f=b&63;(r[0]+=b<<3)<b<<3&&r[1]++;r[1]+=b>>29;for(c=0;c+63<b;c+=64){for(var g=d;g<64;g++)s[g]=a.charCodeAt(e++);x();d=0}for(var g=0;g<f;g++)s[g]=a.charCodeAt(e++)}function z(){var a=r[0]>>3&63;s[a++]=128;if(a<=56)for(var b=a;b<56;b++)s[b]=0;else{for(var b=a;b<64;b++)s[b]=0;x();for(var b=0;b<56;b++)s[b]=0}s[56]=r[1]>>>24&255;s[57]=r[1]>>>16&255;s[58]=r[1]>>>8&255;s[59]=r[1]&255;s[60]=r[0]>>>24&255;s[61]=r[0]>>>16&255;s[62]=r[0]>>>8&255;s[63]=r[0]&255;x()}function A(){var a=new String();for(var b=0;b<8;b++)for(var c=28;c>=0;c-=4)a+=u.charAt(q[b]>>>c&15);return a}function B(a){var b=0;for(var c=0;c<8;c++)for(var d=28;d>=0;d-=4)a[b++]=u.charCodeAt(q[c]>>>d&15)}function C(b,a){w();y(b,b.length);z();if(a)B(a);else return A()}function a(b,c,a){if(b===null||b===void 0)return null;c=typeof c=="undefined"?!0:c;c&&(b=g(b));return C(b,a)}e.exports=a}),null);
__d("QuickSandHeader",["Int64","sha256"],(function(a,b,c,d,e,f){a=function(){"use strict";function a(a,c){this.$1=1<<c;this.$2=this.$1/2;this.$3=(c=b("Int64")).fromInt(this.$2-1);this.$4=[];this.$5=0;this.$6=0;this.$7=0;this.$8=0;a=b("sha256")(a);var d=this.$9(this.$10(a));a=this.$9(this.$10(a).slice(8));this.$4.push(d.xor(c.fromString("736f6d6570736575",16)));this.$4.push(a.xor(c.fromString("646f72616e646f6d",16)));this.$4.push(d.xor(c.fromString("6c7967656e657261",16)));this.$4.push(a.xor(c.fromString("7465646279746573",16)))}var c=a.prototype;c.sipEdge=function(a){return[this.sipNode(a,0),this.sipNode(a,1)]};c.sipNode=function(a,b){return this.$11(2*a+b).and(this.$3).toInt()};c.getSize=function(){return this.$1};c.getHalfSize=function(){return this.$2};c.$12=function(a,b){return a.shiftLeft(b).or(a.shiftRightUnsigned(64-b))};c.$9=function(a){var c,d=new((c=b("Int64")).fromInt)(a[0]),e=c.fromInt(a[1]).shiftLeft(8),f=c.fromInt(a[2]).shiftLeft(16),g=c.fromInt(a[3]).shiftLeft(24),h=c.fromInt(a[4]).shiftLeft(32),i=c.fromInt(a[5]).shiftLeft(40),j=c.fromInt(a[6]).shiftLeft(48);c=c.fromInt(a[7]).shiftLeft(56);return d.or(e).or(f).or(g).or(h).or(i).or(j).or(c)};c.$13=function(){this.$5=this.$5.add(this.$6),this.$7=this.$7.add(this.$8),this.$6=this.$12(this.$6,13),this.$8=this.$12(this.$8,16),this.$6=this.$6.xor(this.$5),this.$8=this.$8.xor(this.$7),this.$5=this.$12(this.$5,32),this.$7=this.$7.add(this.$6),this.$5=this.$5.add(this.$8),this.$6=this.$12(this.$6,17),this.$8=this.$12(this.$8,21),this.$6=this.$6.xor(this.$7),this.$8=this.$8.xor(this.$5),this.$7=this.$12(this.$7,32)};c.$10=function(a){var b,c;for(b=[],c=0;c<a.length;c+=2)b.push(parseInt(a.substr(c,2),16));return b};c.$11=function(a){a=b("Int64").fromInt(a);this.$5=this.$4[0];this.$6=this.$4[1];this.$7=this.$4[2];this.$8=this.$4[3].xor(a);for(var c=0;c<2;c++)this.$13();this.$5=this.$5.xor(a);this.$7=this.$7.xor(b("Int64").fromString("ff",16));for(var c=0;c<4;c++)this.$13();return this.$5.xor(this.$6).xor(this.$7).xor(this.$8)};return a}();e.exports=a}),null);
__d("QuickSandSolver",["AsyncRequest","Base64","Form","QuickSandHeader","sha256"],(function(a,b,c,d,e,f){var g={solveAndEncode:function(a,c,d,e,f,g){a=JSON.stringify([this.solve(a,c,d,e,f),g]);return b("Base64").encode(a)},solveAndUpdateForm:function(a,c,d,e,f,g,h){a=this.solveAndEncode(a,c,d,e,f,h);c=document.getElementById(g);b("Form").createHiddenInputs({qsstamp:a},c)},solveAndSendRequestBack:function(a,b){b=this.solveAndEncode(b.__iterations,b.__header,b.__graphSizeShift,b.__proofSize,b.__edgePercentage,b.__blob);a.data.qsstamp=b;a.send()},solveAndCallAsyncController:function(a,c,d,e,f,g){a=this.solveAndEncode(a,c,d,e,f,g);new(b("AsyncRequest"))().setURI("/qs/").setData({qsstamp:a}).send()},solve:function(a,b,c,d,e){var f=[];b=b;for(var h=0;h<a;h++)f.push(g.solveOneIteration(b,c,d,e)),b=g.hashList(f[h]);return f},solveOneIteration:function(a,c,d,e){var f=8192;a=new(b("QuickSandHeader"))(a,c);c=e*a.getSize()/100;e=[];var h=[],i=[];for(var j=0;j<c;j++){var k=a.sipEdge(j),l=k[0];k=k[1];l+=1;k+=1+a.getHalfSize();var m=e[l],n=e[k];if(m==k||n==l)continue;h[0]=l;i[0]=k;m=g.path(m,h,e,f);n=g.path(n,i,e,f);if(h[m]==i[n]){var o=Math.min(m,n);for(m-=o,n-=o;h[m]!=i[n];m++,n++);o=m+n+1;if(o==d)return g.recoverSolution(m,n,h,i,a,d,c);continue}if(m<n){while(m--)e[h[m+1]]=h[m];e[l]=k}else{while(n--)e[i[n+1]]=i[n];e[k]=l}}return[]},path:function(a,b,c,d){var e;for(e=0;a;a=c[a]){if(++e>=d){while(e--&&b[e]!=a);if(e<0)throw new Error("Maximum path length was exceeded");else throw new Error("Illegal cycle has occurred")}b[e]=a}return e},recoverSolution:function(a,b,c,d,e,f,g){f=function(){};f.prototype.add=function(a){this[a]=!0};f.prototype.remove=function(a){delete this[a]};var h=[];f=new f();f.add([c[0],d[0]]);while(a--)f.add([c[a+1&-2],c[a|1]]);while(b--)f.add([d[b|1],d[b+1&-2]]);a=0;for(var c=0;c<g;c++){b=[1+e.sipNode(c,0),1+e.getHalfSize()+e.sipNode(c,1)];b in f&&(h[a++]=c,f.remove(b))}return h},hashList:function(a){a=a.join("-");return b("sha256")(a)}};e.exports=g}),null);
__d("AudioContextSingleton",["FBLogger"],(function(a,b,c,d,e,f,g){var h=window.AudioContext||window.webkitAudioContext||window.mozAudioContext,i=null;a={get:function(){i==null&&(i=new h());i.state==="closed"&&(c("FBLogger")("project").warn("AudioContext Singleton has been closed"),i=new h());return i}};b=a;g["default"]=b}),98);
__d("BillingSurfaceError",["BaseBillingError"],(function(a,b,c,d,e,f){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(b,c,d,e,f){f===void 0&&(f={});b=a.call(this,b,c,d,e,f)||this;b["class"]="BillingSurfaceError";return b}return b}(b("BaseBillingError"));e.exports=a}),null);
__d("BillingCurrencyAmount",["AdsCurrencyFormatter","BillingCurrencyAmount_amount.graphql","PECurrency","RelayHooks"],(function(a,b,c,d,e,f){"use strict";var g,h=b("AdsCurrencyFormatter").parsePECurrency;b("RelayHooks").graphql;var i=b("RelayHooks").useFragment,j=g!==void 0?g:g=b("BillingCurrencyAmount_amount.graphql"),k=function(){function a(){this.$1=0,this.currency="USD"}a.fromCurrencyAmount=function(b){var c,d=new a();d.$2((c=b.formatted_amount_no_symbol)!=null?c:"0",(c=b.currency)!=null?c:"USD");return d};a.fromZero=function(b){var c=new a();c.$2("0",b);return c};a.fromUserInput=function(b,c){var d=new a();d.$2(b,c);return d};a.fromUnitTest_DO_NOT_USE=function(b){var c=b.amount;b=b.currency;var d=new a();d.$2(c,b);return d};var c=a.prototype;c.$2=function(a,c){this.$1=h(c,a)*((a=b("PECurrency").getCurrencyOffset(c))!=null?a:1);this.currency=c;isNaN(this.$1)&&(this.$1=0)};c.add=function(b){if(this.currency!==b.currency){var c=new Error("can't add currency amounts with different currencies");c.stack;throw c}c=new a();c.$1=this.$1+b.$1;c.currency=this.currency;return c};c.asGraphQLInput=function(){var a;return{amount:(this.$1/((a=b("PECurrency").getCurrencyOffset(this.currency))!=null?a:1)).toString(),currency:this.currency}};c.compare=function(a){if(a==null)return 1;if(this.currency!==a.currency){var b=new Error("can't calc percentage with different currencies");b.stack;throw b}return this.$1-a.$1};c.format=function(a){return b("PECurrency").formatAmountXWithOffset(this.currency,this.$1,babelHelpers["extends"]({showCurrencyCode:!1,showSymbol:!0,stripZeros:!1,thousandSeparator:!0},a))};c.isZero=function(){return this.$1===0};c.percentageOf=function(a){if(this.currency!==a.currency){var b=new Error("can't calc percentage with different currencies");b.stack;throw b}return Math.ceil(a.$1/this.$1*100)};c.subtract=function(b){if(this.currency!==b.currency){var c=new Error("can't subtract currency amounts with different currencies");c.stack;throw c}c=new a();c.$1=this.$1-b.$1;c.currency=this.currency;return c};c.multiply=function(b){var c=new a();c.$1=Math.ceil(this.$1*b);c.currency=this.currency;return c};c.toString=function(){return this.format()};return a}();function a(a){a=i(j,a);return a!=null?k.fromCurrencyAmount(a):null}function c(a){return k.fromZero(a)}function d(a,b){return k.fromUserInput(a,b)}function f(a){return a!=null?k.fromCurrencyAmount(a):null}e.exports={FOR_TESTING_ONLY_DO_NOT_USE:k,createZero:c,currencyAmountFromUserInput:d,getFromFragment:f,useBillingCurrencyAmount:a}}),null);
__d("BillingErrorUtils",["BillingError","BillingSurfaceError"],(function(a,b,c,d,e,f){"use strict";var g=1675030;function a(a,c,d,e){var f;if(d instanceof b("BillingError"))return d;f=d==null?void 0:(f=d.source)==null?void 0:(f=f.exception)==null?void 0:f.stack_trace;var h=d.code===g;e=e;a=a;(d.name==="NetworkTransportError"||d.name==="NetworkTimeoutError"||d.name==="NetworkRequestError")&&(a="network exception",e="warning");return new(b("BillingError"))(d.message,a,c,e,{apiErrorCode:d==null?void 0:(a=d.source)==null?void 0:a.api_error_code,description:h?null:d.description,errorCode:d.code,helpCenterID:d==null?void 0:(c=d.source)==null?void 0:c.help_center_id,originalError:d,stack:f!=null?JSON.stringify(f):d.stack,summary:h?null:d.summary})}function c(a,c,d,e){var f;if(d instanceof b("BillingSurfaceError"))return d;a=a;e=e;(d.name==="NetworkTransportError"||d.name==="NetworkTimeoutError"||d.name==="NetworkRequestError")&&(a="network exception",e="warning");f=d==null?void 0:(f=d.source)==null?void 0:(f=f.exception)==null?void 0:f.stack_trace;var h=d.code===g;return new(b("BillingSurfaceError"))(d.message,a,c,e,{apiErrorCode:d==null?void 0:(a=d.source)==null?void 0:a.api_error_code,description:h?null:d.description,errorCode:d.code,helpCenterID:d==null?void 0:(c=d.source)==null?void 0:c.help_center_id,originalError:d,stack:f!=null?JSON.stringify(f):d.stack,summary:h?null:d.summary})}e.exports={buildBillingErrorFromError:a,buildBillingSurfaceError:c}}),null);
__d("trackNonRDJS",["requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h=c("requireDeferred")("NonRsrcJsFromElementAttributeFalcoEvent").__setRef("trackNonRDJS"),i=c("requireDeferred")("NonRsrcJsScriptSrcFoundFalcoEvent").__setRef("trackNonRDJS"),j=c("requireDeferred")("NonRsrcJsScriptUrlFoundFalcoEvent").__setRef("trackNonRDJS"),k=["onabort","onactivate","onattribute","onafterprint","onafterscriptexecute","onafterupdate","onanimationend","onanimationiteration","onanimationstart","onariarequest","onautocomplete","onautocompleteerror","onbeforeactivate","onbeforecopy","onbeforecut","onbeforedeactivate","onbeforeeditfocus","onbeforepaste","onbeforeprint","onbeforescriptexecute","onbeforeunload","onbeforeupdate","onbegin","onblur","onbounce","oncancel","oncanplay","oncanplaythrough","oncellchange","onchange","onclick","onclose","oncommand","oncompassneedscalibration","oncontextmenu","oncontrolselect","oncopy","oncuechange","oncut","ondataavailable","ondatasetchanged","ondatasetcomplete","ondblclick","ondeactivate","ondevicelight","ondevicemotion","ondeviceorientation","ondeviceproximity","ondrag","ondragdrop","ondragend","ondragenter","ondragleave","ondragover","ondragstart","ondrop","ondurationchange","onemptied","onend","onended","onerror","onerrorupdate","onexit","onfilterchange","onfinish","onfocus","onfocusin","onfocusout","onformchange","onforminput","onfullscreenchange","onfullscreenerror","ongotpointercapture","onhashchange","onhelp","oninput","oninvalid","onkeydown","onkeypress","onkeyup","onlanguagechange","onlayoutcomplete","onload","onloadeddata","onloadedmetadata","onloadstart","onlosecapture","onlostpointercapture","onmediacomplete","onmediaerror","onmessage","onmousedown","onmouseenter","onmouseleave","onmousemove","onmouseout","onmouseover","onmouseup","onmousewheel","onmove","onmoveend","onmovestart","onmozfullscreenchange","onmozfullscreenerror","onmozpointerlockchange","onmozpointerlockerror","onmscontentzoom","onmsfullscreenchange","onmsfullscreenerror","onmsgesturechange","onmsgesturedoubletap","onmsgestureend","onmsgesturehold","onmsgesturestart","onmsgesturetap","onmsgotpointercapture","onmsinertiastart","onmslostpointercapture","onmsmanipulationstatechanged","onmspointercancel","onmspointerdown","onmspointerenter","onmspointerleave","onmspointermove","onmspointerout","onmspointerover","onmspointerup","onmssitemodejumplistitemremoved","onmsthumbnailclick","onoffline","ononline","onoutofsync","onpage","onpagehide","onpageshow","onpaste","onpause","onplay","onplaying","onpointercancel","onpointerdown","onpointerenter","onpointerleave","onpointerlockchange","onpointerlockerror","onpointermove","onpointerout","onpointerover","onpointerup","onpopstate","onprogress","onpropertychange","onratechange","onreadystatechange","onreceived","onrepeat","onreset","onresize","onresizeend","onresizestart","onresume","onreverse","onrowdelete","onrowenter","onrowexit","onrowinserted","onrowsdelete","onrowsenter","onrowsexit","onrowsinserted","onscroll","onsearch","onseek","onseeked","onseeking","onselect","onselectionchange","onselectstart","onstalled","onstorage","onstoragecommit","onstart","onstop","onshow","onsyncrestored","onsubmit","onsuspend","onsynchrestored","ontimeerror","ontimeupdate","ontrackchange","ontransitionend","ontoggle","onunload","onurlflip","onuserproximity","onvolumechange","onwaiting","onwebkitanimationend","onwebkitanimationiteration","onwebkitanimationstart","onwebkitfullscreenchange","onwebkitfullscreenerror","onwebkittransitionend","onwheel"],l="rsrc.php",m=2500,n=/sourceURL=(https:\/\/[-a-zA-Z0-9@:%._\+~#=]+\.[a-zA-Z0-9()]+[-a-zA-Z0-9()@:%_\+.~#?&\/=]*)/;function o(a){if(a==null)return!1;var b=null;try{a=a.split(",");a[0];a=a[1];if(a==null)return!1;b=atob(a)}catch(a){return!1}a=b.match(n);if(a==null)return!1;b=a[1];return b.indexOf(l)>=0}var p=function(a,b){var c=a.src!=null&&a.src!==""?String(a.src):null;if(c==null&&a.type==="application/json")return!1;if(c!=null&&c.indexOf(l)>=0)return!1;else if(o(c))return!1;else{b=b();if(b!=null){var d=b.routePath,e=b.tracePolicy,f=b.url;if(d!=null&&f!=null){var g=a instanceof HTMLElement?a:null;i.onReady(function(a){a.log(function(){var a;return{client_url:f,element_classname:g==null?void 0:g.className,element_id:g==null?void 0:g.id,route_path:d,script_snippet:g==null?void 0:(a=g.innerText)==null?void 0:a.substr(0,m),script_src:c,trace_policy:e}})})}}return!0}},q=function(a,b){if(typeof a.hasAttributes==="function"&&a.hasAttributes()){var c;Array.from(a.attributes).forEach(function(g){if(k.indexOf(g.localName)>=0){var i=b();if(i!=null){var c=i.routePath,d=i.tracePolicy,e=i.url,f=a instanceof HTMLElement?a:null,j=f==null?void 0:f.localName;j!=null&&c!=null&&e!=null&&h.onReady(function(a){a.log(function(){var a;return{client_url:e,element_attribute:g.localName,element_classname:f==null?void 0:f.className,element_id:f==null?void 0:f.id,element_tag:j,route_path:c,script_snippet:(a=g.value)==null?void 0:a.substr(0,m),trace_policy:d}})})}}});if(a instanceof HTMLAnchorElement&&a.hasAttribute("href")&&((c=a.getAttribute("href"))==null?void 0:c.indexOf("javascript:"))===0){c=b();if(c!=null){var d=c.routePath,e=c.tracePolicy,f=c.url,g=a instanceof HTMLElement?a:null,i=g==null?void 0:g.getAttribute("href");i!=null&&d!=null&&f!=null&&j.onReady(function(a){a.log(function(){return{client_url:f,element_classname:g==null?void 0:g.className,element_id:g==null?void 0:g.id,route_path:d,script_snippet:i.substr(0,m),trace_policy:e}})})}}}},r=function(a,b){if(a.nodeType!==1)return!1;q(a,b);if(a.nodeName==="SCRIPT")return p(a,b);else if(a.childNodes.length>0){var c=0;a.childNodes.forEach(function(a){if(a.nodeType!==1)return!0;q(a,b);if(a.nodeName==="SCRIPT")return p(a,b);a=Array.from(a.getElementsByTagName("script")).filter(function(a){return p(a,b)});c+=a.length});return c>0}return!1};function a(a){var b=document.getElementsByTagName("*");Array.from(b).forEach(function(b){q(b,a),b.nodeName==="SCRIPT"&&p(b,a)});b=new MutationObserver(function(b,c){b.forEach(function(b){b.type==="childList"?Array.from(b.addedNodes).forEach(function(b){r(b,a)}):b.type==="attributes"&&q(b.target,a)})});b.observe(document.getElementsByTagName("html")[0],{attributeFilter:k.concat("href"),childList:!0,subtree:!0})}g["default"]=a}),98);
__d("flipperApi",[],(function(a,b,c,d,e,f){var g=function(){function a(a,b,c){this.pluginId=a,this.methodId=b,this.$1=c}var b=a.prototype;b.success=function(a){};b.error=function(a){};return a}(),h=function(){function a(a,b){this.pluginId=a,this.$1=b}var b=a.prototype;b.send=function(a,b){this.$1.sendData(this.pluginId,a,b)};b.receive=function(a,b){var c=this;this.$1.subscribe(this.pluginId,a,function(d){b(d,new g(c.pluginId,a,c.$1))})};return a}();a=function(){function a(a){this.id=a}var b=a.prototype;b.onConnect=function(a){this.$1=a};b.onDisconnect=function(){this.$1=null};b.getConnection=function(){return this.$1};return a}();b=function(){function a(a){this.$2=!1,this.plugins=new Map(),this.$1=a,this.$1.setClient(this)}var b=a.prototype;b.addPlugin=function(a){this.$2&&a.onConnect(new h(a.id,this.$1)),this.plugins.set(a.id,a)};b.getPlugin=function(a){return this.plugins.get(a)};b.onConnect=function(){var a=this;if(this.$2)return;this.$2=!0;Array.from(this.plugins.values()).map(function(b){return b.onConnect(new h(b.id,a.$1))})};b.onDisconnect=function(){this.$2=!1,Array.from(this.plugins.values()).map(function(a){return a.onDisconnect()})};b.start=function(a){this.$1.registerPlugins(Array.from(this.plugins.keys())),this.$1.start(a)};b.stop=function(){this.$1.stop()};return a}();f.FlipperConnection=h;f.FlipperPlugin=a;f.FlipperClient=b}),66);
__d("FlipperCometDevToolsImpl",["flipperApi"],(function(a,b,c,d,e,f,g){a=function(){function a(){this.$1=new Map(),this.$2=new Map(),this.$3=[],this.$4=null}var b=a.prototype;b.registerPlugins=function(a){this.$3=a};b.start=function(a){};b.stop=function(){};b.setClient=function(a){this.$4=a};b.sendData=function(a,b,c){a=this.$2.get(a);a&&a(b,c)};b.subscribe=function(a,b,c){this.$1.set(a+b,c)};b.onConnect=function(){var a;(a=this.$4)==null?void 0:a.onConnect()};b.onDisconect=function(){var a;(a=this.$4)==null?void 0:a.onDisconnect()};b.isAvailable=function(){return!0};b.processMessageToPlugin=function(a,b,c){a=this.$1.get(a+b);a&&a(c)};b.subscribeToMessagesFromPlugin=function(a,b){this.$2.set(a,b)};return a}();b=new a();c=new(d("flipperApi").FlipperClient)(b);c.start("WWW");g.flipperBridge=b;g.flipperClient=c}),98);
__d("DiscoveryHubViewContentFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f){"use strict";a=b("getFalcoLogPolicy_DO_NOT_USE")("1743579");c=b("FalcoLoggerInternal").create("discovery_hub_view_content",a);e.exports=c}),null);
__d("NonRsrcJsFromElementAttributeFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f){"use strict";a=b("getFalcoLogPolicy_DO_NOT_USE")("1109");c=b("FalcoLoggerInternal").create("non_rsrc_js_from_element_attribute",a);e.exports=c}),null);
__d("NonRsrcJsScriptSrcFoundFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f){"use strict";a=b("getFalcoLogPolicy_DO_NOT_USE")("987");c=b("FalcoLoggerInternal").create("non_rsrc_js_script_src_found",a);e.exports=c}),null);
__d("NonRsrcJsScriptUrlFoundFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f){"use strict";a=b("getFalcoLogPolicy_DO_NOT_USE")("1688");c=b("FalcoLoggerInternal").create("non_rsrc_js_script_url_found",a);e.exports=c}),null);
__d("WebSessionExtensionTypedLogger",["Banzai","GeneratedLoggerUtils"],(function(a,b,c,d,e,f){"use strict";a=function(){function a(){this.$1={}}var c=a.prototype;c.log=function(a){b("GeneratedLoggerUtils").log("logger:WebSessionExtensionLoggerConfig",this.$1,b("Banzai").BASIC,a)};c.logVital=function(a){b("GeneratedLoggerUtils").log("logger:WebSessionExtensionLoggerConfig",this.$1,b("Banzai").VITAL,a)};c.logImmediately=function(a){b("GeneratedLoggerUtils").log("logger:WebSessionExtensionLoggerConfig",this.$1,{signal:!0},a)};c.clear=function(){this.$1={};return this};c.getData=function(){return babelHelpers["extends"]({},this.$1)};c.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};c.setClientTime=function(a){this.$1.client_time=a;return this};c.setReason=function(a){this.$1.reason=a;return this};c.setWebsessionID=function(a){this.$1.websession_id=a;return this};return a}();c={client_time:!0,reason:!0,websession_id:!0};f["default"]=a}),66);
__d("RelayEventLogger",["err"],(function(a,b,c,d,e,f,g){"use strict";var h=new Map(),i="client:root:viewer",j='client:root:viewer:__CometNewsFeed_viewer_news_feed_comet_news_feed(orderby:["TOP_STORIES"])',k='__CometNewsFeed_viewer_news_feed_comet_news_feed(orderby:["TOP_STORIES"])';function a(a,b){var d=[],e={get:function(){return[].concat(d)},log:function(a){if(a.name==="store.publish"){var e=a.source,f=!1;if(e.has(i)){var g=e.get(i);f=g==null||Object.prototype.hasOwnProperty.call(g,k)&&g[k]===null}(f||e.has(j))&&(a.stack=c("err")("<trace>").stack)}d.push(a);while(d.length>b)d.shift()}};h.set(a,e);return e}function b(a){return h.get(a)}g.create=a;g.get=b}),98);
__d("WorkerBanzaiLazyQueueChannelClient",["BanzaiLazyQueue","WorkerFuncChannel"],(function(a,b,c,d,e,f,g){"use strict";function a(a){d("WorkerFuncChannel").exportChannel(c("BanzaiLazyQueue"),a,"banzai_lazyqueue_channel")}g.init=a}),98);
__d("WorkerQPLChannel",["WorkerFuncChannel","performanceAbsoluteNow"],(function(a,b,c,d,e,f,g){"use strict";var h=new(d("WorkerFuncChannel").WorkerFuncChannel)(function(a){return{markerStartFromNavStart:null,markerStart:function(b,d,e){e===void 0&&(e=c("performanceAbsoluteNow")());return a.markerStart(b,d,e)},markerAnnotate:function(b,c,d){return a.markerAnnotate(b,c,d)},markerPoint:function(b,d,e){e=(e==null?void 0:e.timestamp)===void 0?babelHelpers["extends"]({},e,{timestamp:c("performanceAbsoluteNow")()}):e;return a.markerPoint(b,d,e)},markerEnd:function(b,d,e,f){f===void 0&&(f=c("performanceAbsoluteNow")());return a.markerEnd(b,d,e,f)}}},"qpl");function a(a){h.setMessagePort(a)}function b(a){h.setBackend(a)}e=babelHelpers["extends"]({},h.proxyMethods,{setMessagePort:a,initQPL:b});g["default"]=e}),98);
__d("WorkerClient",["WorkerBanzaiLazyQueueChannelClient","WorkerFuncChannel","WorkerQPLChannel"],(function(a,b,c,d,e,f,g){"use strict";function a(a){d("WorkerFuncChannel").activateChannels(a,"client","worker"),d("WorkerBanzaiLazyQueueChannelClient").init(a),c("WorkerQPLChannel").setMessagePort(a),e(["QuickPerformanceLogger"],function(a){return c("WorkerQPLChannel").initQPL(a)})}g.init=a}),98);
__d("ACESurveyFollowupQuestionnaireCardQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="3561887803895966"}),null);
__d("PaymentsCometTransactionHubRecurringPaymentsRootQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="4332026986821231"}),null);